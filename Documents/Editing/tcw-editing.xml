<?xml version="1.0" encoding="UTF-8"?>
<!--
$LastChangedDate: 2010-04-10$.
$LastChangedBy: jamesc$
$LastChangedRevision$
-->
<?oxygen RNGSchema="http://www.tei-c.org/release/xml/tei/custom/schema/relaxng/teilite.rng" type="xml"?>
<TEI xmlns="http://www.tei-c.org/ns/1.0">
  <teiHeader>
    <fileDesc>
      <titleStmt>
        <title>How to edit the TEI Guidelines</title>
        <author>Lou Burnard</author>
      </titleStmt>
      <publicationStmt>
        <p>Unpublished first draft for review by TEI Technical council</p>
      </publicationStmt>
      <sourceDesc>
        <p>All my own work</p>
      </sourceDesc>
    </fileDesc>
    <revisionDesc>
      <change when="2011-02-19">started first draft</change>
    </revisionDesc>
  </teiHeader>
  <text>
    <body>
      <p>This document is intended to set out the way things are
      currently managed  in the
        editing of the TEI Guidelines. General notes on the rationale
	for this state -- <emph>why</emph> it is the way it is -- may be added here
        later. The intention is to provide information for Council
      members wishing to contribute actively to the continued
      development and maintenance of the text of the Guidelines. </p>
      <div>
        <head>Logical organisation of the Guidelines</head>
        <p>It cannot have escaped your notice that each chapter (almost) of the Guidelines defines a
          distinct module. In theory at least, each chapter is organised in more or less the same
          way: <list>
            <item>it begins with a paragraph explaining what the module is for, and containing a lot
              of links to the individual subsections it contains; </item>
            <item>each subsection introduces a (small) group of elements, usually beginning with a
                <gi>specList</gi>; </item>
            <item>each element is then introduced in turn, usually including an appropriate usage
              example (on examples, see further <ptr target="#examples"/>); </item>
            <item>a <gi>specGrp</gi>. for each group of elements defined may be given at the end of
              each section; </item>
            <item>a <gi>specGrp</gi> for the whole module is given at the end of the chapter: it
              includes the other specifications either directly (by means of an entity reference) or
              indirectly (by means of a <gi>specGrpRef</gi> pointing to a preceding
              <gi>specGrp</gi>).</item>
          </list></p>
<p>The only chapters not organised in this way are those which do not
introduce or define particular modules.  </p>
      </div>
      <div>
        <head>Physical organization: the ODD files</head>
        <p>Each element, class, and macro defined in the Guidelines is
	declared within its own XML file,
          containing an <gi>elementSpec</gi>, <gi> classSpec</gi>, or <gi>macroSpec</gi> as
          appropriate. These files are in the directory
	  <ident>Source/Specs</ident>. For example, the file
            <ident>Source/Specs/abbr.xml</ident> contains the element spec for the <gi>abbr</gi> element. </p>
        <p>Each chapter of the Guidelines is stored in a file called
            <ident>Source/Guidelines/xx/YY-name.xml</ident> where xx is the language (currently only en or
          fr), YY is the two letter identifier for each chapter (see <ptr target="#chaptercodes"/>)
          and name is the name of the module being defined by that chapter. </p>
        <p>The file <ident>Source/guidelines-xx.xml</ident> (where xx is either en or fr) is the
            <soCalled>driver file</soCalled> for the whole shebang. It contains system entity
          declarations for each of the documents making up the P5 source. These entities are then
          referenced throughout the source to embed the required
	  component at the right place.<note place="foot">At one point
	we considered using <code>xInclude</code> to do this instead,
	but decided against it for reasons which now escape me.</note></p>
        <p>Hence, to add a new element (say <gi>saintName</gi>) you
	might proceed as follows: <list type="ordered">
            <item>Write a new file <ident>saintName.xml</ident> containing an <gi>elementSpec</gi>
              for your new element and add it to the <ident>Specs</ident> folder. </item>
            <item>Add a declaration like this to the existing driver file <eg>
                <![CDATA[<!ENTITY saintName SYSTEM "Specs/saintName.xml">
              ]]></eg></item>
            <item>Edit the source of the relevant chapter (presumably
                <ident>ND-namesdates.xml</ident>) to include a reference to the element spec (like
              this <code>&amp;saintName;</code>), and also some discussion of its usage. The former
              can appear anywhere, but good practice is to include it in an alphabetic list of such
              declarations near the end of the relevant section. You can also use a
                <gi>specList</gi> to reference the description from your new spec within the body of
              the text, like this:
<egXML xmlns="http://www.tei-c.org/ns/Examples"> 
<p>This module also defines the following canonical element: <specList>
<specDesc key="saintName"/>
</specList></p>
</egXML> </item>
          </list>
        </p>
      </div>
      <div>
        <head>Style Notes</head>
        <div>
          <head>General</head>
          <p>The Guidelines are a reference manual, not a tutorial. You should not talk down to the
            reader, but assume they have a reasonably well-informed knowledge of the subjects under
            discussion. Make copious use of cross references, rather than repetition.</p>
          <p>Bear in mind however that your reader may not have English as their first language.
            Avoid needlessly complex sentences and unnecessarily obscure terminology. Make sure that
            technical terms are glossed on their first appearance: this should be in the chapter on
            XML in the case of XML-related terminology. If you want to provide other references, do
            so as footnotes, using the <gi>note</gi> element. </p>
          <p>Provide bibliographic citations for any other standards (etc) referenced, following the
            existing style. Do not introduce bibliographic citations simply in order to demonstrate
            your learning.</p>
          <p>A separate document (copied <ref target="#house-style">below</ref>) attempts to
            summarise current <soCalled>house style</soCalled> with reference to well known vexed
            issues about spelling, punctuation, etc. The goal of these rules is to avoid
            inconsistency, and also (wherever possible) to avoid producing text which is markedly
            either British or American English. </p>
        </div>
        <div xml:id="examples">
          <head>Examples</head>
          <p>The purpose of an example is to illustrate a specific element or feature. Do not
            include irrelevant encoding which does not contribute to this primary goal. If such
            encoding is unavoidable (eg to make your example valid), then it must be explained in
            the supporting text.</p>
          <p>Wherever possible, choose your examples from real documents and provide bibliographic
            citations for them in the file <ident>BIB-Bibliography.xml</ident>. Use the <att>corresp</att>
            attribute on the <gi>egXML</gi> element to link an example to its source note. Note
            that the <att>xml:lang</att> attribute is mandatory on <gi>exemplum</gi>: this is to
            ensure that the ODD processor knows which examples to choose in a given context.</p>
          <p>All examples should be valid against a modified TEI schema in which any element can act
            as a root element: this validity is checked during the build process. </p>
          <p>As well as a validity check, the build process looks at
          cross-references. Since the Guidelines is a single XML
          document, IDs must be unique across the text and the
          examples.  Consequently, any <att>xml:id</att> attribute
          values appearing in your examples must be unique within the
          text of the whole of the Guidelines. Furthermore, any
          <att>target</att> (etc.) values which do not point to
          anything in the source will be flagged with a warning during
	  the build process. </p>
        </div>
      </div>
      <div>
        <head>Making a change to the Guidelines</head>
        <list>
          <item>Use a Subversion client to update your local copy of the source text <emph>before</emph>
            you make any changes in it.</item>
          <item>Make your changes. Make sure your source is still valid against the
              <ident>p5odds.rnc</ident> schema. </item>
          <item>If you have a locally installed P5 build environment, make sure you can still build,
            and that the examples are still valid.</item>
          <item>If you don't, just use subversion to check your updated version back in and wait for the Continuous Integration server <ident>Jenkins</ident> (<ptr target="http://tei.oucs.ox.ac.uk/jenkins/"/>) to assess your work</item>
        </list>
        <p>Error messages may appear at any stage. Please do not leave the source in an invalid
          state (it makes life unnecessarily difficult for others). If you cannot immediately fix a
          validity error, revert your change while you think about it.</p>
        <p>Error messages appearing during the <ident>make test</ident> phase usually indicate that
          your changes are in conflict with the Birnbaum Doctrine, which decrees that changes in the
          Guideline schemas should not invalidate existing documents. You may wish to discuss the
          specific issue with other Council members.</p>
      </div>
      <div>
        <head>Reference section</head>
        <div>
          <head>Chapter codes</head>
<p>Following a length debate in the Council as to whether the
two-character codes originally used to identify individual chapters 
should be dropped in favour of longer more human-readable names, a
compromise solution was reached in which the two character codes were
retained as prefixes to longer human-readable names. The same
two-character codes are also used to identify the HTML and PDF files
generated during the release process.</p>
<p>The following
table shows the correspondence between the printed organization of the
Guidelines and the corresponding filenames. The order is determined by the
driver file <ident>Source/guidelines-xx.xml</ident>, from which the
table is derived.
<table>
<row role="label"><cell>Section</cell><cell>Title</cell><cell>filename</cell></row>
<row>
<cell>[i]</cell><cell>Releases of the TEI Guidelines</cell>
<cell>TitlePageVerso.xml</cell></row>
<row>
<cell>[ii]</cell><cell>Dedication</cell>
<cell>Dedication.xml</cell></row>
<row>
<cell>[iii]</cell><cell>Preface and Acknowledgments</cell>
<cell>FM1-IntroductoryNote.xml</cell></row>
<row>
<cell>[iv]</cell><cell>About These Guidelines</cell>
<cell>AB-About.xml</cell></row>
<row>
<cell>[v]</cell><cell>A Gentle Introduction to XML</cell>
<cell>SG-GentleIntroduction.xml</cell></row>
<row>
<cell>[vi]</cell><cell>Languages and Character Sets</cell>
<cell>CH-LanguagesCharacterSets.xml</cell></row>
<row>
<cell>[1]</cell><cell>The TEI Infrastructure</cell>
<cell>ST-Infrastructure.xml</cell></row>
<row>
<cell>[2]</cell><cell>The TEI Header</cell>
<cell>HD-Header.xml</cell></row>
<row>
<cell>[3]</cell><cell>Elements Available in All TEI Documents</cell>
<cell>CO-CoreElements.xml</cell></row>
<row>
<cell>[4]</cell><cell>Default Text Structure</cell>
<cell>DS-DefaultTextStructure.xml</cell></row>
<row>
<cell>[5]</cell><cell>Representation of Non-standard Characters and
Glyphs</cell><cell>WD-NonStandardCharacters.xml</cell>
</row>
<row>
<cell>[6]</cell><cell>Verse</cell><cell>VE-Verse.xml</cell>
</row>
<row>
<cell>[7]</cell><cell>Performance Texts</cell>
<cell>DR-PerformanceTexts.xml</cell></row>
<row>
<cell>[8]</cell><cell>Transcriptions of Speech</cell>
<cell>TS-TranscriptionsofSpeech.xml</cell></row>
<row>
<cell>[9]</cell><cell>Dictionaries</cell>
<cell>DI-PrintDictionaries.xml</cell></row>
<row>
<cell>[10]</cell><cell>Manuscript Description</cell>
<cell>MS-ManuscriptDescription.xml</cell></row>
<row>
<cell>[11]</cell><cell>Representation of Primary Sources</cell>
<cell>PH-PrimarySources.xml</cell></row>
<row>
<cell>[12]</cell><cell>Critical Apparatus</cell>
<cell>TC-CriticalApparatus.xml</cell></row>
<row>
<cell>[13]</cell><cell>Names, Dates, People, and Places</cell>
<cell>ND-NamesDates.xml</cell></row>
<row>
<cell>[14]</cell><cell>Tables, Formulæ, and Graphics</cell>
<cell>FT-TablesFormulaeGraphics.xml</cell></row>
<row>
<cell>[15]</cell><cell>Language Corpora</cell>
<cell>CC-LanguageCorpora.xml</cell></row>
<row>
<cell>[16]</cell><cell>Linking, Segmentation, and Alignment</cell>
<cell>SA-LinkingSegmentationAlignment.xml</cell></row>
<row>
<cell>[17]</cell><cell>Simple Analytic Mechanisms</cell>
<cell>AI-AnalyticMechanisms.xml</cell></row>
<row>
<cell>[18]</cell><cell>Feature Structures</cell>
<cell>FS-FeatureStructures.xml</cell></row>
<row>
<cell>[19]</cell><cell>Graphs, Networks, and Trees</cell>
<cell>GD-GraphsNetworksTrees.xml</cell></row>
<row>
<cell>[20]</cell><cell>Non-hierarchical Structures</cell>
<cell>NH-Non-hierarchical.xml</cell></row>
<row>
<cell>[21]</cell><cell>Certainty, Precision, and Responsibility</cell>
<cell>CE-CertaintyResponsibility.xml</cell></row>
<row>
<cell>[22]</cell><cell>Documentation Elements</cell>
<cell>TD-DocumentationElements.xml</cell></row>
<row>
<cell>[23]</cell><cell>Using the TEI</cell>
<cell>USE.xml</cell></row>
<row>
<cell>[A1]</cell><cell>Model Classes</cell>
<cell>REF-CLASSES-MODEL.xml</cell></row>
<row>
<cell>[A2]</cell><cell>Attribute Classes</cell>
<cell>REF-CLASSES-ATTS.xml</cell></row>
<row>
<cell>[A3]</cell><cell>Elements</cell>
<cell>REF-ELEMENTS.xml</cell></row>
<row>
<cell>[A4]</cell><cell>Attributes</cell>
<cell>REF-ATTRIBUTES.xml</cell></row>
<row>
<cell>[A5]</cell><cell>Datatypes and Other Macros</cell>
<cell>REF-MACROS.xml</cell></row>
<row>
<cell>[A6]</cell><cell>Bibliography</cell>
<cell>BIB-Bibliography.xml</cell></row>
<row>
<cell>[A7]</cell><cell>Prefatory Notes</cell>
<cell>PrefatoryNote.xml</cell></row>
<row>
<cell>[A8]</cell><cell>Colophon</cell>
<cell>COL-Colophon.xml</cell></row></table>
</p>
<p>In most chapters, the two character code is also used as a prefix
for the <att>xml:id</att> values given to each <gi>div</gi>
element. Note that every <gi>div</gi> element carries an
<att>xml:id</att> value, whether or not it is actually referenced
explicitly elewhere in the Guidelines.
</p>
<p>Note that files with names beginning <code>REF</code> contain
only <gi>divGen</gi> elements: their content, which provides the
reference documentation (sections A1 to A5 inclusive), is
automatically generated during the build process.</p>
  </div>
        <div xml:id="house-style">
<head>House style: preferred orthography</head>
<p>The document <ident>P5/Source/Guidelines/en/style-guide.txt</ident>
lists the following preferences with regard to some commonly
encountered problems of word spacing and hyphenation:

<table>
<row role="label"><cell>Word or Term</cell><cell> Authority/explanation</cell></row>
<row><cell>code point (n.); code-point (adj.)</cell><cell> UCG [discussed on TEI Council list]</cell></row>
<row><cell>cross-reference</cell><cell>MW, OED</cell></row>
<row><cell>data set</cell><cell>       OED</cell></row>
<row><cell>datatype</cell><cell>       [OED, ORDS have 'data type', but Guidelines                       consistently use single word dozens of places]</cell></row>
<row><cell>end-tag</cell><cell>        ORDS</cell></row>
<row><cell>high-level (adj.)       MW, OED</cell></row>
<row><cell>line break</cell><cell/></row>
<row><cell>lowercase/uppercase</cell><cell>MW, ORDS</cell></row>
<row><cell>proofread</cell><cell>      MW, OED</cell></row>
<row><cell>start-tag</cell><cell>      ORDS</cell></row>
<row><cell>stylesheet</cell><cell>     ORDS</cell></row>
<row><cell>typeface</cell><cell>       MW</cell></row>
<row><cell>the Web</cell><cell>        ORDS</cell></row>
<row><cell>web page</cell><cell>       ORDS</cell></row>
<row><cell>web site</cell><cell>       ORDS, OED</cell></row>
<row><cell>well-formed</cell><cell>    W3CXML (even in a predicate usage:
                          "the XML is well-formed")</cell></row>
<row><cell>whitespace</cell><cell>     ORDS</cell></row>
</table>
</p><p>The abbreviations cited above are from the following list of
authorities, which may also be consulted for other vexed issues:
<list type="gloss">
<label>        CMS</label><item>    Chicago Manual of Style, 15th ed.</item>
<label>        MW</label><item>     Merriam-Webster's Collegiate Dictionary, 11th ed.</item>
<label>        OED</label><item>    Oxford English Dictionary, 2d
ed. online (<ptr target="dictionary.oed.com"/>)</item>
<label>        ODE</label><item>    Oxford Dictionary of English (aka NODE), 2d ed.</item>
<label>        ORDS</label><item>   O'Reilly Default Stylesheet,
                <ptr target="http://www.oreilly.com/oreilly/author/stylesheet.html"/></item>
<label>        UCG</label><item>    Unicode Consortium Glossary, http://unicode.org/glossary/</item>
<label>        W3CXML</label><item> W3C XML Recommendation, http://www.w3.org/TR/xml/</item>
</list>
</p>
        </div>
        <div>
          <head>Naming conventions</head>
          <p>TEI naming conventions have evolved over time, but remain fairly consistent. </p>
          <list type="gloss">
            <label>generic identifiers</label>
            <item>An element and attribute identifiers should be a single natural language word in
              lowercase if possible. If more than one word is conjoined to form a name, then the
              first letter of the second and any subsequent word should be uppercased. Hyphens,
              underscores, dots etc are not used within element or attribute names. </item>
            <label>class names</label>
            <item>Class names are made up three parts: a name, constructed like an element name,
              with a prefix and optionally a suffix. The prefix is one of <code>model.</code> or
                <code>att.</code> and indicates whether this is a model or an attribute class. The
              suffix, if present, is used to indicate subclassing: for example
                <ident>att.linking.foo</ident> is the <ident>foo</ident> subclass of the attribute
              class <ident>att.linking</ident></item>
            <label>xml:id values</label>
            <item>The conventions for these vary somewhat. Most of the older chapters of the
              guidelines have consistently constructed identifiers, derived from the individual
              section headings. Identifiers must be provided for:- <list>
                <item>every <gi>div</gi>, whether or not it is explicitly linked to elsewhere</item>
                <item>every bibliographic reference in the <ident>BIB.xml</ident> file</item>
              </list></item>
          </list>
        </div>
      </div>
    </body>
<back>
<div type="appendix">
<head>Some other (mostly superceded) documents on the topic</head>

<listBibl>
 <bibl ><idno>TEI ED W9</idno>
<title>Points of Style For Drafts of TEI Guidelines</title>
<date>2 Mar 1990</date>
<ref target="ED/edw09.gml">in Waterloo Script format</ref>
</bibl>

<bibl >
<title>Notes on House Style</title>
<idno>TEI ED W11</idno>
<date>14 Sep 1992</date>
<ref target="ED/edw11.gml">in Waterloo script</ref>
<ref target="ED/edw11.txt">formatted text</ref>
</bibl>


 <bibl ><idno>TEI ED W55</idno>
<title>Form for Draft Chapters of the TEI Guidelines</title>
<date >5 june 1996</date>
<ref target="ED/edw55.tei">in TEI P2 format</ref>
<ref target="ED/edw55.htm">in HTML format</ref>
<ref target="ED/edw55.odd">in ODD format</ref>
</bibl>

 <bibl ><idno>TEI ED W57</idno>
<title>Procedures for Correcting Errors in the TEI Guidelines</title>
<date >July 23, 1994</date>
<ref target="ED/edw57.tei">in TEI P2 format</ref>
<ref target="ED/edw57.htm">in HTML format</ref>
</bibl>

</listBibl>
</div>
</back>  </text>
</TEI>
