<?xml version="1.0"?>
<?tei-web URI-base="http://www.tei-c.org/release/doc/tei-xsl-common/"?>
<TEI xmlns="http://www.tei-c.org/ns/1.0">
  <teiHeader>
    <fileDesc>
      <titleStmt>
        <title>XSL stylesheets for TEI XML</title>
        <author>Sebastian Rahtz</author>
      </titleStmt>
               <editionStmt>
                  <edition>
		    <date>2013-02-24</date>
                  </edition>
               </editionStmt>
      <publicationStmt>
	<availability status="restricted">
	  <licence target="http://creativecommons.org/licenses/by-sa/3.0/">
	    Distributed under a Creative Commons Attribution-ShareAlike 3.0 Unported License
	  </licence>
	  <licence target="http://www.opensource.org/licenses/BSD-2-Clause">
	    <p>Copyright 2011 TEI Consortium.</p>
	    <p>All rights reserved.</p>
	    
	    <p>Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</p>
	    <list>
	      <item>Redistributions of source code must retain the
	      above copyright notice, this list of conditions and the
	      following disclaimer.</item>
	      <item>Redistributions in binary form must reproduce the
	      above copyright notice, this list of conditions and the
	      following disclaimer in the documentation and/or other
	      materials provided with the distribution.</item>
</list>


<p>This software is provided by the copyright holders and contributors
"as is" and any express or implied warranties, including, but not
limited to, the implied warranties of merchantability and fitness for
a particular purpose are disclaimed. In no event shall the copyright
holder or contributors be liable for any direct, indirect, incidental,
special, exemplary, or consequential damages (including, but not
limited to, procurement of substitute goods or services; loss of use,
data, or profits; or business interruption) however caused and on any
theory of liability, whether in contract, strict liability, or tort
(including negligence or otherwise) arising in any way out of the use
of this software, even if advised of the possibility of such
damage.</p>
</licence>
	  <p>TEI  material can be licensed differently depending on the use you intend to 
make of it. Hence it is made available under both the CC+BY and BSD-2 
licences.  The CC+BY licence is generally appropriate for usages which 
treat TEI content as data or documentation. The BSD-2 licence is 
generally appropriate for usage of TEI content in a software 
environment. For further information or clarification, please contact 
the <ref target="mailto:info@tei-c.org">TEI Consortium</ref>.
	  </p>
	</availability>	  
      </publicationStmt>
      <sourceDesc>
        <p></p>
      </sourceDesc>
    </fileDesc>
    <revisionDesc>
         <change>
            <date>$Date$.</date>
            <name>$Author$, $Revision$</name>
         </change>
    </revisionDesc>
  </teiHeader>
  <text>
<body>
<div><head>Introduction</head>
<p>This is a set of XSLT 2.0 specifications to transform TEI XML documents
to various forms, including XHTML, LaTeX, XSL Formatting Objects,
ePub, plain text, RDF, JSON;
and to/from Word OOXML (docx) and OpenOfice (odt).
They concentrate on the core TEI
modules which are used for simple transcription and <q>born
digital</q> writing, but adding support for other modules is fairly
easy. It is important to understand that they do <hi>not</hi>:
<list>
<item>cover all TEI elements and possible attribute values</item>
<item>attempt to define a standard TEI processing or rendering
model</item>
</list>
and should not be treated as the definitive view of the TEI Consortium.</p>

</div>

<div>
<head>File organisation</head>
<p>The stylesheets contain seven directories where most of the work is done:
<list type="gloss">
<label>common2</label><item>templates which are independent of output
type, used by the other transformations</item>
<label>xhtml2</label><item>templates for making HTML output (also used
for ePub)</item>
<label>latex2</label><item>templates for making LaTeX output</item>
<label>docx</label><item>conversion to and from Word OOXML format</item>
<label>odt</label><item>conversion to and from OpenOffice ODF format</item>
<label>fo2</label><item>templates for making XSL FO output</item>
<label>odds2</label><item>processing of TEI ODD files</item>
</list>
Within each directory there is usually a separate file for the templates
which implement each of the TEI modules (eg
<ident>textstructure.xsl</ident>,
<ident>linking.xsl</ident>, or <ident>drama.xsl</ident>); these
are included by a master file <ident>tei.xsl</ident>. This also
includes a parameterization layer in the file
<ident>tei-param.xsl</ident>, and the parameterization file from
the <ident>common2</ident> directory. The <ident>tei.xsl</ident> does
any necessary declaration of constants and XSL keys.</p>

<p>There are further directories  for other conversions, some which
are built on top of the xhtml one above:
<list type="gloss">
<label>bibtex</label><item>conversion to BibTeX</item>
<label>docbook</label><item>conversion to/from Docbook</item>
<label>dtd</label><item>ODD conversion to DTD </item>
<label>epub</label><item>conversion to ePub</item>
<label>epub3</label><item>conversion to ePub3</item>
<label>html5</label><item>conversion to HTML5 </item>
<label>json</label><item>conversion to JSON</item>
<label>nlm</label><item>conversion to NLM </item>
<label>rdf</label><item>conversion to RDF (CIDOC CRM)</item>
<label>slides</label><item>conversion to LaTeX and HTML slides</item>
<label>tbx</label><item>conversion to TBX</item>
<label>tcp</label><item>conversion from Text Creation Partnership P4 XML</item>
<label>tite</label><item>conversion from TEI Tite to normal TEI P5</item>
<label>txt</label><item>conversion to plain text</item>
<label>xlsx</label><item>conversion from Microsoft Office spreadsheet format</item>
</list>
</p>

<p>The final important directory is <ident>profiles</ident>, which has
a set of predefined project starting points, each of which may have a file
<ident>to.xsl</ident> for one or more of the supported output formats
(<ident>csv</ident>,
<ident>docbook</ident>,
<ident>docx</ident>,
<ident>dtd</ident>,
<ident>epub3</ident>,
<ident>epub</ident>,
<ident>fo</ident>,
<ident>html5</ident>,
<ident>html</ident>,
<ident>ibooks</ident>,
<ident>json</ident>,
<ident>latex</ident>,
<ident>lite</ident>,
<ident>oddhtml</ident>,
<ident>odt</ident>,
<ident>p4</ident>,
<ident>rdf</ident>,
<ident>relaxng</ident>,
<ident>tcp</ident>,
<ident>txt</ident>, and
<ident>xlsx</ident>). There may also be a <ident>from.xsl</ident>
to go <emph>from</emph> the selected format to TEI XML.</p>
<p>For example, to convert TEI to HTML in the default mannner, the user may run
<ident>profiles/default/html/to.xsl</ident> on the selected input file. Other starting points are
listed below.</p>

<p>For the brave, there are Linux/OSX command-line shell scripts
<ident>docbooktotei</ident>,
<ident>docxtotei</ident>,
<ident>odttotei</ident>,
<ident>tcptotei</ident>,
<ident>teitobibtex</ident>,
<ident>teitodocbook</ident>,
<ident>teitodocx</ident>,
<ident>teitodtd</ident>,
<ident>teitoepub</ident>,
<ident>teitoepub3</ident>,
<ident>teitofo</ident>,
<ident>teitohtml</ident>,
<ident>teitohtml5</ident>,
<ident>teitojson</ident>,
<ident>teitolatex</ident>,
<ident>teitoodd</ident>,
<ident>teitoodt</ident>,
<ident>teitopdf</ident>,
<ident>teitordf</ident>,
<ident>teitorelaxng</ident>,
<ident>teitornc</ident>,
<ident>teitoslides</ident>,
<ident>teitotxt</ident>,
<ident>teitoxsd</ident>, and
<ident>xlsxtotei</ident>
for converting to/from Word, to/from OpenOffice, and to DTD, ePub,
HTML, RDF, Relax NG, plain text, W3C schema etc.  These are
implemented using Ant tasks, which are also available within the
oXygen XML editor as part of the TEI framework.</p>

<p>Any other use of the stylesheets, eg by referencing individual
modules, requires good understanding of XSL.</p>
</div>

<div xml:id="start">
  <head>Documentation of generic start points</head>
<list>
<item><ref target="../tei-xsl-common2/profiles/default/csv/from.html">Default conversion from CSV</ref></item>
<item><ref target="../tei-xsl-common2/profiles/default/csv/to.html">Default conversion to CSV</ref></item>
<item><ref target="../tei-xsl-common2/profiles/default/docbook/from.html">Default conversion to Docbook</ref></item>
<item><ref target="../tei-xsl-common2/profiles/default/docx/from.html">Default conversion from docx (OOXML)</ref></item>
<item><ref target="../tei-xsl-common2/profiles/default/docx/to.html">Default conversion to docx (OOXML)</ref></item>
<item><ref target="../tei-xsl-common2/profiles/default/epub/to.html">Default conversion to ePub</ref></item>
<item><ref target="../tei-xsl-common2/profiles/default/fo/to.html">Default conversion to XSL FO</ref></item>
<item><ref target="../tei-xsl-common2/profiles/default/html/to.html">Default conversion to XHTML</ref></item>
<item><ref target="../tei-xsl-common2/profiles/default/latex/to.html">Default conversion to LaTeX</ref></item>
<item><ref target="../tei-xsl-common2/profiles/default/odt/from.html">Default conversion from OpenOffice (odt) </ref></item>
<item><ref target="../tei-xsl-common2/profiles/default/odt/to.html">Default conversion to OpenOffice (odt) </ref></item>
<item><ref target="../tei-xsl-common2/profiles/default/p4/from.html">Default conversion to TEI P4</ref></item>
<item><ref target="../tei-xsl-common2/odds2/odd2odd.html">Conversion of ODD file to expanded ODD</ref></item>
<item><ref target="../tei-xsl-common2/odds2/odd2relax.html">Conversion of ODD to RELAX NG schema</ref></item>
<item><ref target="../tei-xsl-common2/odds2/odd2dtd.html">Conversion of ODD to DTD</ref></item>
<item><ref target="../tei-xsl-common2/slides/teihtml-slides.html">Default conversion to HTML slides</ref></item>
<item><ref target="../tei-xsl-common2/slides/teilatex-slides.html">Default
conversion to LaTeX slides (using beamer package)</ref></item>
</list>
</div>



<div><head>Customization</head>
<p>
  The TEI stylesheets are designed to be customized, and I will
  gladly add more parameterization in future. There are currently
  several hundred things you can set to change the output, described
  in the <ref target="customize.html">Customization Handbook</ref>.
  They are either XSLT variables, or named templates, so
  you need to understand a little of XSL syntax. If you know
  a  bit more, you can override any of the templates in the style files, 
  but then you are on your own.</p>

  <p>The <ref target="style.html">Stylebear</ref> web form
  will construct a XSL file for you, with all the variables configured. 
  </p>
  
</div>


<div>
<head>Notes on XSLT processors and XSL FO</head>
<p>
These stylesheets use XSLT 2.0, and have only been tested with
Saxon (from <ptr target="http://saxon.sourceforge.net"/>). An older
set of XSLT 1.0 stylesheets are also available, but is not
maintained or updated.</p>

<p>It is up to the user to find out how to run the XSLT processor! This may
be from within a Java program, from your editor, on the command-line,
or inside a web server.</p>

<p>The XSL FO style sheets were developed for use with PassiveTeX (<ptr
target="http://projects.oucs.ox.ac.uk/passivetex/"/>),
a system using XSL formatting objects to render XML to PDF via
LaTeX. They have not  been extensively tested with the
other XSL FO implementations.</p>

</div>

</body>
<back>
</back>
</text>
</TEI>


