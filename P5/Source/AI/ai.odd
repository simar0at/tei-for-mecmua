<!--
Copyright TEI Consortium. 
Licensed under the GNU General Public License. 
See the file COPYING for details.
$Date$
$Author$
-->
<div1 xmlns="http://www.tei-c.org/ns/1.0" type="chapter" xml:id="AI" n="15"><head>Simple Analytic Mechanisms</head>
<p>This chapter describes a tag set for associating simple analyses and
interpretations with text elements.  We use the term
<term>analysis</term> here to refer to any kind of semantic or
syntactic interpretation which an encoder wishes to attach to all or
part of a text. Examples discussed in this chapter include familiar
linguistic categorizations (such as <q>clause</q>, <q>morpheme</q>,
<q>part-of-speech</q> etc.) and  characterizations of narrative
structure (such as <q>theme</q>, <q>reconciliation</q> etc.). The
mechanisms presented in this chapter offer simpler but less powerful
than those described in chapter <ptr target="#FS"/>.
	</p>
<p>Section <ptr target="#AILC"/> introduces a tag set for characterizing
text segments according to the familiar linguistic categories of
<term>sentence</term> or <term>s-unit</term>, <term>clause</term>,
<term>phrase</term>, <term>word</term>, <term>morpheme</term>, and
<term>character</term>. These elements represent special cases of the
generic <gi>seg</gi> element described in section <ptr target="#SASE"/>.</p>
<p>Section <ptr target="#AIATTS"/> introduces an additional global
attribute which allows passages of text to be associated with
specialised elements representing their interpretation. 
These <soCalled>interpretative</soCalled> elements (<gi>span</gi> and
<gi>interp</gi>) are described in detail in section <ptr target="#AISP"/>.
They allow the encoder to specify an analysis as a series of names and
associated values,<note place="foot">Or, as they are widely known,
<term>attribute-value pairs</term>; this term should not be confused,
however, with SGML or XML attributes and their values, which are similar in
concept but distinct in their formal definitions.</note> each such pair
being linked to one or more stretches of text, either directly, in the
case of spans, or indirectly, in the case of interpretations.</p>
<p>Finally section <ptr target="#AILA"/> revisits the topic of linguistic
analysis, and illustrates how these interpretative mechanisms may be
used to associate simple linguistic analysis with text segments.</p>
<p>The following schema fragments show the overall organization of the
class of analytic elements discussed in the remainder of this chapter.
When the analysis module is selected for inclusion in a TEI schema,
an additional attributes becomes globally available, and some additional
elements are declared. These declarations are effected by the
following modules:
<moduleSpec xml:id="DAIENT" type="decls" ident="analysis-decl"><altIdent type="FPI">Modifications to TEI class system for analysis</altIdent><desc>Modifications to TEI class system for analysis</desc></moduleSpec><!--publicID:  -//TEI P5//ENTITIES Element Classes for Simple Analysis//EN-->
<specGrpRef target="#DAIGA"/>
<moduleSpec xml:id="DAI" ident="analysis"><altIdent type="FPI">Simple analytic mechanisms</altIdent><desc>Simple analytic mechanisms</desc></moduleSpec><!--publicID:  -//TEI P5//ELEMENTS Additional Element Set for Simple Analysis//EN-->
<specGrpRef target="#DAISP"/>
<specGrpRef target="#DAILC"/></p>
<p>Selection and combination of modules is performed as described in
<ptr target="#STIN"/>.
<!-- ; in a
document which uses the markup described in this chapter, the document
type declaration should contain the following declaration of the entity
<term>TEI.analysis</term>, or an equivalent one:
<eg><![CDATA[<!ENTITY % TEI.analysis 'INCLUDE'>]]></eg>
The entire document type declaration for a document using this
additional tag set together with that for linking and alignment and the
base tag set for prose might look like this:
<eg><![CDATA[<!DOCTYPE TEI PUBLIC "-//TEI P5//DTD Main Document Type//EN" "tei2.dtd" [
    <!ENTITY % TEI.XML      'INCLUDE' >
    <!ENTITY % TEI.prose    'INCLUDE' >
    <!ENTITY % TEI.linking  'INCLUDE' >
    <!ENTITY % TEI.analysis 'INCLUDE' >
 ]>]]></eg>
--></p>
<div2 type="subsection" xml:id="AILC"><head>Linguistic Segment Categories</head>
<p>In this section we introduce specialized <term>linguistic segment
category</term> elements which may be used to represent the segmentation of
a text into the traditional linguistic categories of
<term>sentence</term>, <term>clause</term>, <term>phrase</term>,
<term>word</term>, <term>morpheme</term>, and
<term>characters</term>. 
<specList><specDesc key="s"/><specDesc key="cl"/><specDesc key="phr"/><specDesc key="w" atts="lemma"/>
<specDesc key="m" atts="baseForm"/><specDesc key="c"/></specList>
 </p>
<p>As members of the <ident type="class">segAtts</ident> class, these
elements share the following attributes:
<specList><specDesc key="tei.segAtts" atts="type function"/></specList>
</p>
<p>The <gi>s</gi> element may be used simply to segment a text
end-to-end  into a series of non-overlapping segments, referred to here
and elsewhere as <term>s-units</term>, or <term>sentences</term>.
<egXML xmlns="http://www.tei-c.org/ns/Examples"><p> 
  <s>Nineteen fifty-four, when I was eighteen years old,
    is held to be a crucial turning point in the history of
    the Afro-American &#x2014; for the U.S.A. as a whole &#x2014; the
    year segregation was outlawed by the U.S. Supreme Court.</s>
  <s>It was also a crucial year for me because on June 18,
    1954, I began serving a sentence in state prison for
    possession of marijuana.</s>
</p></egXML>
<note type="cit"><bibl>Eldridge Cleaver <title>Soul on Ice</title> (first para of first  
letter from prison)</bibl></note>
The <gi>s</gi> may be thought of as  providing an abbreviated version of
the tag <tag>seg type='s-unit'</tag>, with the important additional
proviso that (unlike <gi>seg</gi> elements) <gi>s</gi> elements may not
be nested within each other. The <att>type</att> attribute of the
<gi>s</gi> element corresponds to the <att>subtype</att> attribute on
the <gi>seg</gi> element, that is, a tag <tag>s type="xxx"</tag> should
be thought of as synonymous with a tag <tag>seg type="s-unit"
subtype="xxx"</tag>.  Similar considerations apply to the  <gi>cl</gi>
and <gi>phr</gi> elements , which  can be thought of as short for
<tag>seg type="clause"</tag> and <tag>seg type="phrase"</tag>,
respectively.
</p>
<p>The <gi>s</gi> element may be further subdivided into
<term>clauses</term>, marked with the <gi>cl</gi> element,
as in the following example:
<egXML xmlns="http://www.tei-c.org/ns/Examples"><p>
  <s>
    <cl>It was about the beginning of September, 1664,
      <cl>that I, among the rest of my neighbours,
        heard in ordinary discourse
        <cl>that the plague was returned again to Holland; </cl> </cl> </cl>
    <cl>for it had been very violent there, and particularly at
      Amsterdam and Rotterdam, in the year 1663, </cl>
    <cl>whither, <cl>they say,</cl> it was brought,
      <cl>some said</cl> from Italy, others from the Levant, among some goods
      <cl>which were brought home by their Turkey fleet;</cl> </cl>
    <cl>others said it was brought from Candia;
      others from Cyprus. </cl>
  </s>
  <s>
    <cl>It mattered not <cl>from whence it came;</cl> </cl>
    <cl>but all agreed <cl>it was come into Holland again.</cl> </cl>
  </s>
</p></egXML>
<note type="cit"><bibl>Defoe, <title>Journal of the Plague Year</title></bibl></note></p>
<p>Clauses may be further divided into <gi>phr</gi> elements in the same
way. A text may be segmented directly into clauses, or into
phrases, with no need to include segmentation at a higher level as well.
 </p>
<p>For verse texts, the overlapping of metrical and syntactic structure
requires that special care be given to representing both using an
element hierarchy. One simple approach is to split the syntactic phrases
into fragments when they cross verse boundaries, reuniting them 
with the <att>part</att> attribute:
<egXML xmlns="http://www.tei-c.org/ns/Examples"><div type="stanza">
  <l><cl part="I">Tweedledum and Tweedledee</cl></l>
  <l><cl part="F">Agreed to have a battle;</cl></l>
  <l><cl part="I">For Tweedledum said <cl part="I">Tweedledee</cl></cl></l>
  <l><cl part="F"><cl part="F">Had spoiled his nice new rattle.</cl></cl></l></div>
<div type="stanza">
  <l><cl part="I">Just then flew down a monstrous crow,</cl></l>
  <l><cl part="F">As black as a tar barrel;</cl></l>
  <l><cl part="I">Which frightened both the heroes so,</cl></l>
  <l><cl part="F"><cl>They quite forgot their quarrel.</cl></cl></l></div></egXML>
<note type="cit"><bibl>Lewis Carroll, <title>Through the Looking Glass</title>, ch4</bibl></note>
Another approach is to use the <att>next</att> and <att>prev</att>
attributes defined in the additional tag set for linking (chapter <ptr target="#SA"/>):
<egXML xmlns="http://www.tei-c.org/ns/Examples"><l><cl next="#c5" xml:id="c3" part="I">For Tweedledum said
   <cl next="#c6" xml:id="c4" part="I">Tweedledee</cl></cl></l>
<l><cl prev="#c3" xml:id="c5" part="F">  
   <cl prev="#c4" xml:id="c6" part="F">Had spoiled his nice new rattle.</cl></cl></l></egXML>
Other methods are also possible; for discussion, see chapter <ptr target="#NH"/>.
 </p>
<p>The <att>type</att> attribute on linguistic segment categories can
be used to provide additional interpretative information about the
category. The <att>function</att> attribute on the <gi>cl</gi> and
<gi>phr</gi> elements can be used to provide additional information
about the function of the category. Legal values for these
two attributes are not defined by these Guidelines, but should be
documented in the <gi>segmentation</gi> element of the
<gi>encodingDesc</gi> element within the document's header. 
A general approach to the encoding of linguistic categories assigned to
parts of a text is discussed in section <ptr target="#AILA"/> below.
</p>
<p>Using traditional terminology, these attributes provide a convenient
way of specifying, for example, that the clause <mentioned>from whence it
came</mentioned> is a relative clause modifying another, or that  the
phrase <mentioned>by the U.S. Supreme Court</mentioned> is a prepositional
post-modifier:
<egXML xmlns="http://www.tei-c.org/ns/Examples"><cl>It mattered not
  <cl type="relative" function="clause modifier">from whence it came;</cl>
</cl></egXML>
<egXML xmlns="http://www.tei-c.org/ns/Examples"><phr type="NP">the year segregation</phr>
<phr>was outlawed</phr>
<phr type="PP" function="postmodifier (agent)">by the U.S. Supreme Court.</phr></egXML>
 </p>
<p>Segmentation into clauses and phrases can, of course, be combined.
Such detailed encodings as the following may require careful
formatting if they are to be easily readable however.
<egXML xmlns="http://www.tei-c.org/ns/Examples"><p>
  <s>
    <cl type="finite declarative" function="independent"> 
      <phr type="NP" function="subject">Nineteen fifty-four,
      <cl type="finite relative declarative" function="appositive">
	when <phr type="NP" function="subject">I</phr>
	<phr type="VP" function="predicate">was eighteen years old</phr>
	</cl></phr>,
	<phr type="VP" function="predicate">  
	  <phr type="V" function="main verb">is held</phr>
	  <phr type="NP" function="complement"> 
	    <cl type="nonfinite" function="predicate nom.">    
	      <phr type="V" function="copula">to be</phr>
	      <phr type="NP" function="predicate nom.">a crucial turning point
	      <phr type="PP" function="postmodifier">in
	      <phr type="NP" function="prep.obj.">the history
	      <phr type="PP" function="postmodifier">of the Afro-American</phr>
	      </phr>
	      </phr>
	      &#x2014;
	      <phr type="PP" function="appositive postmodifier">for
	      <phr type="NP" function="prep.obj.">the U.S.A.
	      <phr type="PP" function="postmodifier">as a whole</phr>
	      </phr>
	      </phr>
	      </phr>
	      &#x2014;
	      <phr type="NP" function="appositive pred.nom.">the year
	      <cl type="finite relative" function="adjectival">      
		<phr type="NP" function="subject">segregation</phr>
		<phr type="VP" function="predicate">       
		  <phr type="V" function="main verb">was outlawed</phr>
		  <phr type="PP" function="postmodifier">by the U.S. Supreme Court</phr>
  </phr></cl></phr></cl></phr></phr>.</cl></s>
  <s>
    <cl type="finite declarative" function="independent"> 
      <phr type="NP" function="subject">It</phr>
      <phr type="VP" function="predicate">  
	<phr type="V" function="main verb">was</phr>
	also
	<phr type="NP" function="predicate nom.">a crucial year for me</phr>
      </phr>
      <cl type="finite declarative" function="dependent causative">because
      <phr type="PP" function="sentence adverb">on June 18, 1954</phr>,
      <phr type="NP" function="subject">I</phr>
      <phr type="VP" function="predicate">
	<phr type="V" function="main verb">began serving</phr>
	<phr type="NP" function="complement">a sentence in state prison
	<phr type="PP" function="complement">for possession of marijuana</phr>
</phr></phr></cl></cl></s>.</p></egXML></p>
<p>This style of markup, however, introduces spurious new lines and
blanks into the text, which could make restoring the text to its
original layout problematic. If the original layout is important, the
original line breaks and font shifts should be recorded using
<gi>lb</gi> elements, the global <att>rend</att> attribute, etc.
</p>
<p>The <gi>w</gi>, <gi>m</gi> and <gi>c</gi> elements are also
identical in meaning to the <gi>seg</gi> element with a <att>type</att>
attribute of <q>w</q>, <q>m</q>, or <q>c</q>, and may occur wherever
<gi>seg</gi> is permitted to occur. However, they have more  restricted
content models than does <gi>seg</gi>: for example, the <gi>w</gi>
element can only contain <gi>w</gi>, <gi>m</gi> and <gi>c</gi>
elements, and parsed character data; the <gi>m</gi> element can only
contain <gi>c</gi> elements and parsed character data; the <gi>c</gi>
element can only contain parsed character data, and will often 
contain  only a single character. Consequently, while <gi>m</gi> et al. can
be translated directly into typed <gi>seg</gi> elements, the reverse is
not necessarily the case.
 </p>
<p>The restriction on the content of the <gi>w</gi> attribute in
particular requires that a certain care must be exercised when using it,
especially in relation to the use of other tags that one may think of as
<term>word level</term>, but which are in fact defined as <term>phrase
level</term>. Consider the problem of segmenting an occurrence of the
<gi>mentioned</gi> element as a word.
<egXML xmlns="http://www.tei-c.org/ns/Examples"><mentioned>grandiloquent</mentioned></egXML>
The first of the following two encodings is legitimate; the second is
not, since the <gi>mentioned</gi> element is not part of the content
model of the <gi>w</gi> element:
<egXML xmlns="http://www.tei-c.org/ns/Examples"><mentioned><w>grandiloquent</w></mentioned></egXML>
<eg><![CDATA[<w><mentioned>grandiloquent</mentioned></w>]]></eg></p>
<p>On the other hand, both of the following encodings <emph>are</emph>
legitimate:
<egXML xmlns="http://www.tei-c.org/ns/Examples"><mentioned>
   <phr>grandiloquent speech</phr>
</mentioned></egXML>
<egXML xmlns="http://www.tei-c.org/ns/Examples"><phr>
   <mentioned>grandiloquent speech</mentioned>
</phr></egXML>
The first encoding describes the citing of a phrase. The second
describes a phrase which consists of something mentioned.
<!-- added following brief plug for otherwise  unsung attributes -->
</p>
<p>The <gi>w</gi> and <gi>m</gi> elements carry additional attributes
which may be of use in many indexing or analytic applications. The 
<att>lemma</att> attribute may be used to specify  the
<term>lemma</term>, that is the head- or base- form of an
inflected verb or noun, for example:
<egXML xmlns="http://www.tei-c.org/ns/Examples"><s xml:lang="la">  
   <w lemma="timeo">timeo</w>
   <w lemma="danaii">Danaos</w>
   <w lemma="et">et</w>
   <w lemma="donum">dona</w>
   <w lemma="fero">ferentes</w>
</s></egXML>
Similarly, the <att>baseForm</att> attribute may be specified for the
<gi>m</gi> element, to indicate the <soCalled>base form</soCalled> of
a transformed morpheme:
<egXML xmlns="http://www.tei-c.org/ns/Examples"><w type="adjective">  
   <m type="prefix" baseForm="con">com</m>
   <m type="root">fort</m>
   <m type="suffix">able</m>
</w></egXML>
</p>
<p>The <gi>w</gi>, <gi>m</gi>, and <gi>c</gi> elements can be used
together to give a fairly detailed low-level grammatical analysis of
text. For example, consider the following segmentation of the English
S-unit <mentioned>I didn't do it</mentioned>.
<egXML xmlns="http://www.tei-c.org/ns/Examples"><w>I</w>
<w> 
   <w>did</w>
   <m>n't</m>
</w>
<w>do</w>
<w>it</w>
<c>.</c></egXML>
<!-- shouldn't we attribute this to Bart Simpson? :-) -->
 </p>
<p>This segmentation, crude as it is, succeeds in representing the idea
that <mentioned>did</mentioned> occurs as a word inside the word
<mentioned>didn't</mentioned>. A further advantage of segmenting the text down
to this level is that it becomes relatively simple to associate each
such segment with a more detailed formal analysis. 
This matter is taken up in detail in section <ptr target="#AILA"/>. 
 </p>
<p>The <gi>s</gi>, <gi>cl</gi>, <gi>phr</gi>, <gi>w</gi>, <gi>m</gi>,
and <gi>c</gi> elements are formally declared as follows:
<specGrp xml:id="DAILC" n="Linguistic Segment Categories">
&s.odd;
&cl.odd;
&phr.odd;
&w.odd;
&m.odd;
&c.odd;
</specGrp>
</p>
</div2>
<div2 type="subsection" xml:id="AIATTS"><head>Global Attributes for Simple Analyses</head>
<p>When the tag set described by this chapter is selected, an
additional attribute is defined for all elements:
<specList><specDesc key="tei.analysis" atts="ana"/></specList>
The <att>ana</att> attribute may be specified for any element.
Its effect is to  associate the element with one or more others
representing an analysis or interpretation of it. Its target should be
one of the elements described in the section <ptr target="#AISP"/> below,
or some other interpretative element such as <gi>note</gi>, on which 
see section <ptr target="#CONO"/> or <gi>fs</gi>,
on which see chapter <ptr target="#FS"/>.
 </p>
<p>The <att>ana</att> attribute is formally declared as follows:
<specGrp xml:id="DAIGA" n="Global attribute for analysis">
&clana.odd;
    </specGrp>
</p></div2>
<div2 type="subsection" xml:id="AISP"><head>Spans and Interpretations</head>
<p>The simplest mechanisms for attaching analytic notes in some
structured vocabulary to particular passages of text are provided by the
<gi>span</gi> and <gi>interp</gi> elements, and their associated
grouping elements <gi>spanGrp</gi> and <gi>interpGrp</gi>.
<specList><specDesc key="span" /><specDesc key="spanGrp"/><specDesc key="interp" /><specDesc key="interpGrp"/></specList>
 </p>
<p>These elements are all members of the class <ident type="class">interpret</ident>, and thus share the following attributes:
<specList><specDesc key="tei.interpret" atts="resp type inst"/></specList>
</p>
<p>The <att>type</att>  attribute of the
<gi>span</gi> and <gi>interp</gi> elements may be used to indicate
that the annotations are of specific types, for example thematic or
structural. The annotation itself is supplied as the content of the
<gi>span</gi> or <gi>interp</gi> element. 
In the case of the <gi>span</gi> element, the span of text being
annotated is indicated by values of the <att>from</att> and
<att>to</att> attributes, the value of each being a pointer.  If
the optional <att>to</att> attribute is omitted, the span consists just
of the element pointed at by the obligatory <att>from</att> attribute.
In the case of <gi>interp</gi> (see below), the span is indicated by a
pointer from a <gi>link</gi> element or some similar mechanism.  The
<att>resp</att> attribute indicates the annotator responsible for this annotation.
Here is
an example of the <gi>span</gi> element.
<egXML xmlns="http://www.tei-c.org/ns/Examples"><p xml:id="MaQp1s2p114">
<s xml:id="MaQp1s2p114s1">There was certainly a definite point at which the
  thing began.</s>
<s xml:id="MaQp1s2p114s2">It was not; then it was suddenly inescapable,
  and nothing could have frightened it away.</s>
<s xml:id="MaQp1s2p114s3">There was a slow integration, during which she,
  and the little animals, and the moving grasses, and the sun-warmed
  trees, and the slopes of shivering silvery mealies, and the great
  dome of blue light overhead, and the stones of earth under her feet,
  became one, shuddering together in a dissolution of dancing
  atoms.</s>
<s xml:id="MaQp1s2p114s4">She felt the rivers under the ground forcing
  themselves pain&amp;shy;fully along her veins, swelling them out in an
  unbearable pressure; her flesh was the earth, and suffered growth
  like a ferment; and her eyes stared, fixed like the eye of the
  sun.</s>
<s xml:id="MaQp1s2p114s5">Not for one second longer (if the terms for time
  apply) could she have borne it; but then, with a sudden movement
  forwards and out, the whole process stopped; and <emph rend="italic">that</emph> was <soCalled rend="dquo">the
  moment</soCalled> which it was impossible to remember
  afterwards.</s>
<span resp="DTL" from="#MaQp1s2p114s3" to="#MaQp1s2p114s5">the moment</span>
<s xml:id="MaQp1s2p114s6">For during that space of time (which was
  timeless) she understood quite finally her smallness, the
  unimportance of humanity.</s>
</p></egXML>
<note type="cit"><bibl>Doris Lessing, <title>Martha Quest</title>, 1952, p52-53</bibl></note>
 </p>
<p>The <gi>span</gi> element may, as in this example, be placed in the
text near the textual span it is associated with. Alternatively, it  may be placed
elsewhere in the same or a different document. Where several
<gi>span</gi> or <gi>interp</gi> elements share the same attributes,
for example having the same responsibility or type, it may be
convenient to group them within a <gi>spanGrp</gi> element as follows:
<egXML xmlns="http://www.tei-c.org/ns/Examples"><spanGrp resp="DTL">
  <span from="#MaQp1s2p114s3" to="#MaQp1s2p114s5">the moment</span>
  <!-- other spans identified by DTL here -->
</spanGrp></egXML>
<!-- As may be seen, the <att>type</att> attribute may be omitted in order to
associate a span of text simply with a descriptive name.-->
 </p>
<p>Spans may also be used to represent structural divisions within 
a narrative, particularly when these do not coincide with the
structure implied by the element structure. Consider the following narrative:
<q rend="display">
<p>Sigmund, the son of Volsung, was a king in Frankish country.
Sinfiotli was the eldest of his sons, the second was Helgi, the
third Hamund.
Borghild, Sigmund's wife, had a brother named &#x2014;
But Sinfiotli, her stepson, and &#x2014; both wooed the same woman
and Sinfiotli killed him over it.<note place="foot">The rule marks spaces
left for the missing name in the manuscript.</note>
And when he came home, Borghild asked him to go away,
but Sigmund offered her weregild, and she was obliged to accept it.
At the funeral feast Borghild was serving beer.  She took poison, a big
drinking horn full, and brought it to Sinfiotli.  When Sinfiotli looked
into the horn, he saw that poison was in it, and said to Sigmund <q>This
drink is cloudy, old man.</q> Sigmund took the horn and drank it off.
It is said that Sigmund was hardy and that poison did him no harm,
inside or out.  And all his sons could tolerate poison on their skin.
Borghild brought another horn to Sinfiotli, and asked him to drink, and
everything happened as before.  And a third time she brought him a horn,
and reproachful words as well, if he didn't drink from it.  He spoke
again to Sigmund as before.  He said <q>Filter it through your mustache,
son!</q> Sinfiotli drank it off and at once fell dead.
</p>
<p>Sigmund carried him a long way in his arms and came to a long,
narrow fjord, and there was a small boat there and a man in it.  He
offered to ferry Sigmund over the fjord.  But when Sigmund carried the
body out to the boat, it was fully laden.  The man said Sigmund should
go around the fjord inland.  The man pushed the boat out and then
suddenly vanished.
</p>
<p>King Sigmund lived a long time in Denmark in the kingdom of
Borghild, after he married her.  Then he went south to Frankish lands,
to the kingdom he had there.  Then he married Hiordis, the daughter of
King Eylimi.  Their son was Sigurd.  King Sigmund fell in a battle with
the sons of Hunding.  And then Hiordis married Alf, the son of King
Hialprec.  Sigurd grew up there as a boy.
</p>
<p>Sigmund and all his sons were tall and outstanding in their
strength, their growth, their intelligence, and their accomplishments.
But Sigurd was the most outstanding of all, and everyone who knows about
the old days says he was the most outstanding of men and the noblest of
all the warrior kings.</p></q>
 </p>
<p>A structural analysis of this text, dividing it into narrative units
in a pattern shared with other texts from the same literature, might
look like this:
<egXML xmlns="http://www.tei-c.org/ns/Examples"><p xml:id="P1">
<s xml:id="S1">Sigmund ... was a king in Frankish country.</s>
<s xml:id="S2">Sinfiotli was the eldest of his sons.</s>
<s xml:id="S3">Borghild, Sigmund's wife, had a brother ...</s>
<s xml:id="S4A">But Sinfiotli ... wooed the same woman</s>
<s xml:id="S4B">and Sinfiotli killed him over it.</s>
<s xml:id="S5">And when he came home, ... she was obliged to accept it.</s>
<s xml:id="S6">At the funeral feast Borghild was serving beer.</s>
<s xml:id="S7">She took poison ... and brought it to Sinfiotli.</s>
<s xml:id="S17">Sinfiotli drank it off and at once fell dead.</s>
<anchor xml:id="EOS17"/>
</p>
<p xml:id="P2">Sigmund carried him a long way in his arms ... </p>
<p xml:id="P3">King Sigmund lived a long time in Denmark ... </p>
<p xml:id="P4">Sigmund and all his sons were tall ... </p>
<spanGrp resp="TMA" type="narrative-structure">
 <span from="#S1" to="#S3">introduction</span>
 <span from="#S4a">conflict</span>
 <span from="#S4b">climax</span>
 <span from="#S5" to="#S17">revenge</span>
 <span from="#EOS17">reconciliation</span>
 <span from="#P2" to="#P4">aftermath</span>
</spanGrp></egXML>
</p>
<p>Note the use of an empty <gi>anchor</gi> element to provide a target for
the <soCalled>reconciliation</soCalled> unit which is normally part of
the narrative pattern but which is not realized in the text shown.
 </p>
<!--<p>If groups of <gi>span</gi> elements with the same <att>resp</att> or
<att>type</att> are used, as in this example, they may be grouped
together inside a <gi>spanGrp</gi> element, with the values of the
common attribute(s) inherited from the higher element, as follows.
 -->
<p>The same analysis may be expressed with the <gi>interp</gi> element
instead of the <gi>span</gi> element; this element provide attributes
for recording an interpretive category and its value, as well as the
identity of the interpreter, but does not itself indicate which passage
of text is being interpreted; the same interpretive structures can thus
be associated with many passages of the text.  The association between
text passages and <gi>interp</gi> elements must be made either by
pointing from the text to the <gi>interp</gi> element with the
<att>ana</att> attribute defined in section <ptr target="#AIATTS"/>, or by
pointing at both text and interpretation from a <gi>link</gi> element,
as described in chapter <ptr target="#SA" type="div1"/>.
 </p>
<p>To encode the first example above using <gi>interp</gi>, it is
necessary to create a text element which contains &#x2014; or corresponds to
&#x2014; the the third, fourth, and fifth orthographic sentences (S-units) in
the paragraph.  This can be done either with the <att>seg</att> element,
described in <ptr target="#SASE" type="div2"/>, or the <att>join</att>
element, described in <ptr target="#SAAG" type="div2"/>.  The resulting
element can then be associated with the <gi>interp</gi> element using the
<att>ana</att> attribute described in section <ptr target="#AIATTS" type="div1"/>.  We illustrate using the <gi>seg</gi> element.
<egXML xmlns="http://www.tei-c.org/ns/Examples"><p xml:id="MarQp1s2p114">
<s xml:id="MarQp1s2p114s1">There was certainly a definite point ... </s>
<s xml:id="MarQp1s2p114s2">It was not; then it was suddenly inescapable ... </s>
<seg xml:id="MarQp1s2p114s3-5" ana="#moment">
<s xml:id="MarQp1s2p114s3">There was a slow integration ... </s>
<s xml:id="MarQp1s2p114s4">She felt the rivers under the ground ... </s>
<s xml:id="MarQp1s2p114s5">Not for one second longer ... </s>
</seg>
<s xml:id="MarQp1s2p114s6">For during that space of time ... </s>
</p>
<interp xml:id="MOMENT" resp="DTL">the moment</interp></egXML>
 </p>
<p>The second example above can be recoded using <gi>interp</gi> and
<gi>interpGrp</gi> tags in a similar manner.  The interpretation
itself can be expressed in an <gi>interpGrp</gi> element, which would
replace the <gi>spanGrp</gi> in the example shown above:
<egXML xmlns="http://www.tei-c.org/ns/Examples"><interpGrp resp="TMA" type="structuralUnit">
        <interp xml:id="INTRO">introduction</interp>
        <interp xml:id="CONFLICT">conflict</interp>
        <interp xml:id="CLIMAX">climax</interp>
        <interp xml:id="REVENGE">revenge</interp>
        <interp xml:id="RECONCIL">reconciliation</interp>
        <interp xml:id="AFTERM">aftermath</interp>
</interpGrp></egXML>
 </p>
<p>Any of these <gi>interp</gi> elements may be linked to the text either
by means of the <att>ana</att> attribute, or by means of <gi>link</gi>
elements.  Using the <att>ana</att> attribute (on <gi>seg</gi> elements
introduced specifically for this purpose), the text would be encoded as
follows:
<egXML xmlns="http://www.tei-c.org/ns/Examples"><p xml:id="PP1">
<seg xml:id="SS1-SS3" ana="#INTRO">
<s xml:id="SS1">Sigmund ... was a king in Frankish country.</s>
<s xml:id="SS2">Sinfiotli was the eldest of his sons.</s>
<s xml:id="SS3">Borghild, Sigmund's wife, had a brother ... </s>
</seg>
<s xml:id="SS4A" ana="#CONFLICT">But Sinfiotli ... wooed the same woman</s>
<s xml:id="SS4B" ana="#I3">and Sinfiotli killed him over it.</s>
<seg xml:id="SS5-SS17" ana="#CLIMAX">
<s xml:id="SS5">And when he came home, ... she was obliged to accept it.</s>
<s xml:id="SS6">At the funeral feast Borghild was serving beer.</s>
<s xml:id="SS17">Sinfiotli drank it off and at once fell dead.</s>
</seg></p>
<anchor xml:id="NIL1" ana="#RECONCIL"/>
<p xml:id="PP2">Sigmund carried him a long way in his arms ... </p>
<p xml:id="PP3">King Sigmund lived a long time in Denmark ... </p>
<p xml:id="PP4">Sigmund and all his sons were tall ... </p>
<join xml:id="PP2-PP4" targets="#PP2 #PP3 #PP4" ana="#AFTERM"/></egXML>
 </p>
<p>The linkage may also be accomplished using a <gi>linkGrp</gi> element,
whose content is a set of <gi>link</gi> elements which point to each
interpretive element and its corresponding text unit.  This method does
not require the use of the <att>ana</att> attribute on the text
units.
<egXML xmlns="http://www.tei-c.org/ns/Examples"><linkGrp targFunc="text interpretation">
  <link targets="#INTRO    #SS1-SS3"/>
  <link targets="#CONFLICT #SS4A"/>
  <link targets="#CLIMAX   #SS4b"/>
  <link targets="#REVENGE  #SS5-SS17"/>
  <link targets="#RECONCIL #NIL1"/>
  <link targets="#AFTERM   #P2-P4"/>
</linkGrp></egXML>
 </p>
<p>One obvious advantage of using <gi>interp</gi> rather than
<gi>span</gi> elements for the Sigmund text is that the <gi>interp</gi>
elements can be reused for marking up other texts in the same document,
whereas the <gi>span</gi> elements cannot.  Another is that the
<gi>interp</gi> element can be used to provide interpretations for
discontinuous text elements (represented by <gi>join</gi> elements).  On
the other hand, the use of <gi>interp</gi> elements may require the
creation of special text elements not otherwise needed (e.g. the
<gi>seg</gi> and the <gi>join</gi> in the revised encoding of the text),
whereas the the use of <gi>span</gi> elements does not.
 </p>
<p>The formal declarations for the <gi>span</gi>, <gi>spanGrp</gi>,
<gi>interp</gi> and <gi>interpGrp</gi> elements are:
<specGrp xml:id="DAISP" n="Spans">
&span.odd;
&spangrp.odd;
&interp.odd;
&interpgp.odd;
</specGrp>
</p>
</div2>
<div2 type="subsection" xml:id="AILA"><head>Linguistic Annotation</head>
<p>By <term>linguistic annotation</term> we mean here any annotation
determined by an analysis of linguistic features of the text, excluding
as borderline cases both the formal structural properties of the text
(e.g. its division into chapters or paragraphs) and descriptive
information about its context (the circumstances of its production, its
genre or medium).  The structural properties of any TEI-conformant text
should be represented using the structural elements discussed elsewhere
in this chapter and in chapters <ptr target="#CO"/>, <ptr target="#DS"/>, and
the various chapters of Part III (on base tag sets).  The contextual
properties of a TEI text are fully documented in the TEI Header, which
is discussed in chapter <ptr target="#HD"/>, and in section <ptr target="#CCAH"/>.
 </p>
<p>Other forms of linguistic annotation may be applied at a number of
levels in a text.  A code (such as a word-class or part-of-speech
code) may be associated with each word or token, or with groups of such
tokens, which may be continuous, discontinuous or nested.  A code may
also be associated with relationships (such as cohesion) perceived as
existing between distinct parts of a text.  The codes themselves may
stand for discrete non-decomposable categories, or they may represent
highly articulated bundles of textual features.  Their function may be
to place the annotated part of the text somewhere within a narrowly
linguistic or discoursal domain of analysis, or within a more general
semantic field, or any combination drawn from these and other domains.
 </p>
<p>The manner by which such annotations are generated and attached to
the text may be entirely automatic, entirely manual or a mixture.  The
ease and accuracy with which analysis may be automated may vary with the
level at which the annotation is attached.  The method employed should
be documented in the <gi>interpretation</gi> element within the encoding
description of the TEI Header, as described in section <ptr target="#HD53"/>.
Where different parts of a language corpus have used
different annotation methods, the <att>decls</att>
attribute may be used to indicate the fact, as further
discussed in section <ptr target="#CCAS"/>.
</p>
<p>As one example of such types of analysis, consider the following
sentence, taken from the Lancaster/IBM Treebank
Project.<note place="foot">See <bibl><author>G. N. Leech and R. G. Garside</author>
<title level="a">Running a Grammar Factory,</title> in
<title>English Computer Corpora:
Selected Papers and Research Guide,</title>
<editor>S. Johansson and A.-B. Stenstr&#x2298;m</editor> ed.
(Berlin: de Gruyter; New York: Mouton, 1991),
pp. 15&#x2013;32.</bibl>
This sentence and its analysis are reproduced by kind permission of the
University of Lancaster's Unit for Computer Research on the English
Language.
 </note>
 <q rend="display">The victim's friends told police that Kruger drove
into the quarry and never surfaced.</q> </p> <p>Our discussion focuses
on the way that this sentence might be analysed using the Claws system
developed at the University of Lancaster, but exactly the same
principles may be applied to a wide variety of other systems.<note place="foot">For the word-class tagging method used by Claws see
<bibl><author>I. Marshall</author> <title level="a">Choice of
Grammatical Word Class without Global Syntactic Analysis: Tagging
Words in the LOB Corpus,</title> in <title>Computers and the
Humanities</title> 17 (1983): 139&#x2013;50.</bibl>
For an overview of the system see <bibl><author>R. G. Garside,
G. N. Leech, and G. R. Sampson</author> <title>The Computational
Analysis of English: a Corpus-Based Approach</title> (Oxford: Oxford
University Press, 1991).</bibl></note>
Output from the system consists of a segmented and tokenized version
of the text, in which word class codes have been associated with each
token.  For our example sentence, we might conveniently represent
these codes using entity references:<note place="foot">We have
replaced the Claws code <val>$</val> for the
<mentioned>'s</mentioned> morpheme by <val>GEN</val>, as
in the tag set used by the British National Corpus, and the code <val>.</val> for the
final full stop by <val>PUN</val>.</note>
<egXML xmlns="http://www.tei-c.org/ns/Examples"><s>The&amp;AT; victim&amp;NN1;'s&amp;GEN; friends&amp;NN2; told&amp;VVD; police&amp;NN2;
that&amp;CST; Krueger&amp;NP1;  drove&amp;VVD; into&amp;II; the&amp;AT;
quarry&amp;NN1;  and&amp;CC;  never&amp;RR; surfaced&amp;VVD;.&amp;PUN;</s></egXML>
The names used for these entity references have some significance for
the human reader (<val>AT</val> for <term>article</term>,
<val>NN1</val> for <term>singular noun</term>, <val>NN2</val> for
<term>plural noun</term>, etc.), but their representation in the
output from a system processing the document may be adjusted by
modifying the entity declarations to suit the convenience of whatever
analytic software is to be used.  For example, if a parser
operating on this sentence uses a set of entity declarations in the
following form, then the word class tags will simply disappear from
the output.
<eg><![CDATA[<!ENTITY AT "">
<!ENTITY NN1 "">
<!ENTITY GEN "">
<!-- ... -->]]></eg>
Alternatively, suppose the entity set in use follows the following
pattern:
<eg><![CDATA[<!ENTITY AT  "[definite article]">
<!ENTITY NN1 "[singular noun]">
<!ENTITY GEN "[genitive suffix]">
<!-- ... -->]]></eg>
Then the sample sentence will be processed as if it began:
<eg><![CDATA[The[definite article] 
victim[singular noun]'s[genitive suffix] ...]]></eg>
 </p>
<p>It would be more useful if the replacement texts for each entity
were a code of some significance to a particular analysis program.  If
the codes are considered to be <term>atomic</term>, then one of the
mechanisms based on the <gi>interp</gi> element described in section <ptr target="#AISP"/>
 is sufficient.  If the codes are considered to be
compositional (for example that <val>NN1</val> and <val>NN2</val>
have something in common, namely their <term>noun-ness</term>, which
they do not share with, say, <val>VVD</val>), then this
compositionality may be most clearly expressed using a mechanism based
on the <gi>fs</gi> element defined in chapter <ptr target="#FS"/>.  <!--For a
detailed example, see <ptr target="#F"SIL"/>.-->
 </p>
<p>One such replacement for the word-class entity references above
is a set of empty <gi>ptr</gi> elements bearing <att>target</att>
attributes as described in section <ptr target="#COXR"/>.  The required
entity definitions would look as follows.
<eg><![CDATA[<!ENTITY   AT   "<ptr target='AT'/>" >
<!ENTITY   NN1  "<ptr target='NN1'/>">
<!ENTITY   GEN  "<ptr target='GEN'/>">
<!-- ... -->]]></eg>
Then the text would be expanded to read:
<egXML xmlns="http://www.tei-c.org/ns/Examples"><s>The <ptr target="#AT"/> victim <ptr target="#NN1"/>'s <ptr target="#GEN"/>
friends <ptr target="#NN2"/> told <ptr target="#VVD"/> police
<ptr target="#NN2"/> that <ptr target="#CST"/> Krueger <ptr target="#NP1"/>
drove <ptr target="#VVD"/> into <ptr target="#II"/> the <ptr target="#AT"/>
quarry <ptr target="#NN1"/> and <ptr target="#CC"/> never <ptr target="#RR"/>
surfaced <ptr target="#VVD"/>.<ptr target="#PUN"/>
</s></egXML>
 </p>
<p>The <gi>ptr</gi> elements are designed to point to elements with
unique identifiers.  But we have yet to specify what those elements are.
Suppose we say that they are <gi>interp</gi> elements whose values are the
same as their identifiers.  That is, we provide an <gi>interpGrp</gi>
element as follows:
<egXML xmlns="http://www.tei-c.org/ns/Examples"><interpGrp type="word classes">
   <interp xml:id="at">article</interp>
   <interp xml:id="nn1">noun sing</interp>
   <interp xml:id="gen">genitive</interp>
</interpGrp></egXML>
</p>
<p>Although common practice, this (or any similar) method of relating
text to interpretation is seriously flawed.  The interpretations are
related not to text elements, but to points in the text, namely those
that are occupied by the <gi>ptr</gi> elements.  In order to relate the
interpretation to the appropriate text units, a uniform convention needs
to be applied; for example, that an interpretation relates to all the
text material preceding the <gi>ptr</gi> element that points to it up to
the immediately preceding <gi>ptr</gi>, or up to the <gi>s</gi> that
delimits the S-unit containing that <gi>ptr</gi> element, whichever is
nearer.  While this convention works with texts that are marked up
solely with <gi>ptr</gi> elements that point to interpretation elements,
it does not work with texts with additional markup, for example
<gi>ptr</gi> elements that are used for some other purpose.  In addition,
the convention fails for any markup in which interpretations are
intended to be associated with nested text elements.
 </p>
<p>None of these difficulties arise if the text is fully segmented, using
the linguistic segment elements described in section <ptr target="#AILC"/>,
and the <att>ana</att> attribute to point to the interpretations
that are associated with each such segment, as follows:
<egXML xmlns="http://www.tei-c.org/ns/Examples"><s type="sentence">
   <w ana="#at">The</w>
   <w ana="#nn1">victim</w>
   <m ana="#gen">'s</m>
   <w ana="#nn2">friends</w>
   <w ana="#vvd">told</w>
   <w ana="#nn2">police</w>
   <w ana="#cst">that</w>
   <w ana="#np1">Krueger</w>
   <w ana="#vvd">drove</w>
   <w ana="#ii">into</w>
   <w ana="#at">the</w>
   <w ana="#nn1">quarry</w>
   <w ana="#cc">and</w>
   <w ana="#rr">never</w>
   <w ana="#vvd">surfaced</w>
   <c ana="#pun">.</c>
</s></egXML>
 </p>
<p>Analysis into phrase and clause elements can be superimposed on the
word and morpheme tagging in the preceding illustration. For example,
Claws provides the following constituent analysis of the sample sentence
(the word class codes have been deleted):
<eg><![CDATA[[N [G The victim's G] friends N] [V told [N police N] 
[Fn that [N Krueger N] [V [V& drove [P into [N the quarry N]P]V&]
and [V+ never surfaced V+]V]Fn]V]]]></eg>
 </p>
<p>Treating the labels on the brackets as phrase or clause
interpretations, this analysis of the structure of the example sentence
can be combined with the word class analysis and represented as follows
(the symbol <val>V&amp;</val> representing the first part of a coordinate
phrase, has been replaced by <val>V1</val>, and <val>V+</val>, representing the
second part, has been replaced by <val>V2</val>).
<egXML xmlns="http://www.tei-c.org/ns/Examples"><s type="sentence">
   <phr ana="#n">  
      <phr ana="#g">    
         <w ana="#at">The</w>
         <w ana="#nn1">victim</w>
         <m ana="#gen">'s</m>
      </phr>
      <w ana="#nn2">friends</w>
   </phr>
   <phr ana="#v">  
      <w ana="#vvd">told</w>
      <phr ana="#n">
         <w ana="#nn2">police</w>
      </phr>
      <cl ana="#fn">    
         <w ana="#cst">that</w>
         <phr ana="#n">
            <w ana="#np1">Krueger</w>
         </phr>
         <phr ana="#v">      
            <phr ana="#v1">        
               <w ana="#vvd">drove</w>
               <phr ana="#p">          
                  <w ana="#ii">into</w>
                  <phr ana="#n">            
                     <w ana="#at">the</w>
                     <w ana="#nn1">quarry</w>
                  </phr>
               </phr>
            </phr>
            <w ana="#cc">and</w>
            <phr ana="#v2">        
               <w ana="#rr">never</w>
               <w ana="#vvd">surfaced</w>
            </phr>
         </phr>
      </cl>
   </phr>
   <c ana="#pun">.</c>
</s></egXML>
 </p>
<p>A representation using the <gi>linkGrp</gi> element can be obtained by
supplying each linguistic segment with its own <att>xml:id</att> attribute,
removing its <att>ana</att> attribute, and putting each
segment-interpretation pair into a <gi>link</gi> element inside the
<gi>linkGrp</gi> element.
</p>
<p>Each linguistic segment so far discussed has been well-behaved with
respect to the basic document hierarchy, having only a single parent.
Moreover, the segmentation has been complete, in that each part of the
text is accounted for by some segment at each level of analysis, without
discontinuities or overlap.  This state of affairs does not of
course apply in all types of analysis, and these Guidelines provide a
number of mechanisms to support the representation of discontinuities or
multiple analyses.  A brief overview of these facilities is provided in
chapter <ptr target="#NH"/>; also see <ptr target="#SA"/>.  These mechanisms
all depend to a greater or lesser degree on the ability to associate a
unique identifier with any element in a TEI-conformant text, and then to
specify that identifier as the target of a pointing element of some kind.
</p>
<p>The mechanisms proposed in this chapter may also be used to encode
analyses of an entirely different kind, for example discourse function.
Here is an application of the span technique to record details of a sales
transaction in a spoken text.
<egXML xmlns="http://www.tei-c.org/ns/Examples"><u xml:id="u1" who="#p1">Can I have ten oranges and a kilo of bananas please?</u>
<u xml:id="u2" who="#p2">Yes, anything else?</u>
<u xml:id="u3" who="#p1">No thanks.</u>
<u xml:id="u4" who="#p2">That'll be dollar forty.</u>
<u xml:id="u5" who="#p1">Two dollars</u>
<u xml:id="u6" who="#p1">Sixty, eighty, two dollars. Thank you.</u>
<spanGrp type="transactions">
   <span from="#u1">sale request</span>
   <span from="#u2" to="#u3">sale compliance</span>
   <span from="#u4">sale</span>
   <span from="#u5">purchase</span>
   <span from="#u6">purchase closure</span>
</spanGrp></egXML>
<note type="cit"><bibl>R. Hasan <title>Language, context, and
text</title>... OUP 1989, p 59</bibl></note>
For further discussion of the <gi>u</gi> (utterance) element and other
elements recommended for transcriptions of spoken language,
see chapter <ptr target="#TS"/>.
</p></div2>
</div1>
