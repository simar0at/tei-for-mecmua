<?xml version="1.0" encoding="utf-8"?>
<!--Copyright TEI Consortium. 
Licensed under the GNU General Public License. 
See the file COPYING for details
$Date$
$Author$
-->
<elementSpec xmlns="http://www.tei-c.org/ns/1.0" module="tagdocs" xml:id="VALLIST" usage="mwa" ident="valList">
  <equiv/>
  <gloss>value list</gloss>
  <gloss version="2007-05-04" xml:lang="es">lista de valores</gloss>
  <gloss version="2007-01-21" xml:lang="it">lista di valori</gloss>
  <gloss version="2006-10-28" xml:lang="ja">値リスト</gloss>
  <desc>contains one or more <gi>valItem</gi> elements defining possible
  values for an attribute.</desc>
  <desc version="2007-05-04" xml:lang="es">contiene uno o más elementos <gi>valItem</gi> que definen los valores posibles para un atributo.</desc>
  <desc version="2007-01-21" xml:lang="it">contiene uno o più elementi <gi>valItem</gi> che definiscono i valori possibili per un attributo</desc>
  <desc version="2006-10-28" xml:lang="ja"> 1つ以上の要素valItemを示す．</desc>
  <content xmlns:sch="http://www.ascc.net/xml/schematron">
    <rng:oneOrMore xmlns:rng="http://relaxng.org/ns/structure/1.0">
      <rng:ref name="valItem"/>
    </rng:oneOrMore>
    <sch:pattern name="enumeration">
      <sch:rule context="tei:valList[@type='closed']">
<!-- This is a pretty complicated test. -->
<!-- What we're trying to match is cases when the attribute -->
<!-- we are currently defining (which has a closed value -->
<!-- list or we wouldn't be here) has a <datatype> of -->
<!-- data.enumerated, but does *not* specify a non-default -->
<!-- range of values with minOccurs= or maxOccurs=. -->
        <sch:report test="preceding-sibling::tei:datatype[        (not(@minOccurs) or @minOccurs=1 or @minOccurs=0)        and        (not(@maxOccurs) or @maxOccurs=1)      ]      /rng:ref[@name='data.enumerated']">It is not necessary to specify a datatype with a closed value list </sch:report>
        <sch:report test="preceding-sibling::tei:datatype/rng:ref[@name!='data.enumerated']">Datatypes other than data.enumerated should not be used with closed value lists
	</sch:report>
      </sch:rule>
      <sch:rule context="tei:valList[not(@type) or @type!='closed']">
        <sch:assert test="preceding-sibling::tei:datatype/rng:ref[@name='data.enumerated']">Open value lists must be associated with data.enumerated </sch:assert>
      </sch:rule>
    </sch:pattern>
  </content>
  <attList>
    <attDef ident="mode" usage="opt">
      <equiv/>
      <desc>specifies the effect of this declaration on its parent
    module.</desc>
      <desc version="2007-05-04" xml:lang="es">especifica el efecto de esta declaración en el módulo del que obtiene su orígen (módulo padre)</desc>
      <desc version="2007-01-21" xml:lang="it">indica l'effetto della dichiarazione sul modulo da cui trae origine</desc>
      <desc version="2006-10-28" xml:lang="ja">当該宣言が親要素に与える影響を示す．</desc>
      <defaultVal>add</defaultVal>
      <valList type="closed">
        <valItem ident="add">
          <gloss>this declaration is added to the current definitions</gloss>
          <gloss version="2007-05-04" xml:lang="es">la declaración se añade a las definiciones corrientes.</gloss>
          <gloss version="2007-01-21" xml:lang="it">la dichiarazione è aggiunta alle definizioni correnti</gloss>
          <gloss version="2006-10-28" xml:lang="ja">(当該宣言は，現行定義に付加される．)</gloss>
        </valItem>
        <valItem ident="delete">
          <gloss>this declaration and all of its children are removed from the current setup</gloss>
          <gloss version="2007-05-04" xml:lang="es">la declaración y sus descendientes son excluidos de la disposición corriente.</gloss>
          <gloss version="2007-01-21" xml:lang="it">la dichiarazione e i suoi discendenti sono esclusi dall'impostazione corrente</gloss>
          <gloss version="2006-10-28" xml:lang="ja">(当該宣言は，現行定義から外される．)</gloss>
        </valItem>
        <valItem ident="change">
          <gloss>this declaration changes the declaration of the same
	 name in the current definition</gloss>
          <gloss version="2007-05-04" xml:lang="es">la declaración cambia la declaración con el mismo nombre en la definición corriente.</gloss>
          <gloss version="2007-01-21" xml:lang="it">la dichiarazione modifica la dichiarazione con lo stesso nome nella definizione corrente</gloss>
          <gloss version="2006-10-28" xml:lang="ja">(当該宣言は，現行の同名定義を変更する．)</gloss>
        </valItem>
        <valItem ident="replace">
          <gloss>this declaration replaces the declaration of the same
	name in the current definition</gloss>
          <gloss version="2007-05-04" xml:lang="es">esta declaración substituye la declaración con el mismo nombre en la definición corriente.</gloss>
          <gloss version="2007-01-21" xml:lang="it">a dichiarazione sostituisce la dichiarazione con lo stesso nome nella definizione corrente</gloss>
          <gloss version="2006-10-28" xml:lang="ja">(当該宣言は，現行の同名定義に置き換わる．)</gloss>
        </valItem>
      </valList>
    </attDef>
    <attDef ident="type" usage="opt">
      <equiv/>
      <desc>specifies the extensibility of the list of attribute values
      specified.
      </desc>
      <desc version="2007-05-04" xml:lang="es">especifica la posibilidad de extender la lista de los valores especificados para los atributos.</desc>
      <desc version="2007-01-21" xml:lang="it">indica la possibilità di estendere la lista dei valori specificati per gli attributi</desc>
      <desc version="2006-10-28" xml:lang="ja">当該属性リストの拡張性を示す．</desc>
      <defaultVal>open</defaultVal>
      <valList type="closed">
        <valItem ident="closed">
          <equiv/>
          <gloss>only the values specified are permitted.</gloss>
          <gloss version="2007-05-04" xml:lang="es">sólo se permiten los valores especificados </gloss>
          <gloss version="2007-01-21" xml:lang="it">sono consentiti solo i valori specificati</gloss>
          <gloss version="2006-10-28" xml:lang="ja">(当該リスト中の値しか認めない．)</gloss>
        </valItem>
        <valItem ident="semi">
          <equiv/>
          <gloss>all the values specified should be supported, but
	  other values are legal and software should have appropriate
	  fallback processing for them.
	  </gloss>
          <gloss version="2007-05-04" xml:lang="es">todos los valores indicados deben ser soportados pero son consentidos otros valores para los que son necesarios sistemas de elaboración adecuados.</gloss>
          <gloss version="2007-01-21" xml:lang="it">tutti i valori indicati devono essere supportati ma sono consentiti altri valori per i quali sono necessari sistemi di eleborazione adeguati</gloss>
          <gloss version="2006-10-28" xml:lang="ja">(当該リスト中の値しか保証しない．但し，他の値でも構わない．)</gloss>
        </valItem>
        <valItem ident="open">
          <equiv/>
          <gloss>the values specified are sample values only.</gloss>
          <gloss version="2007-05-04" xml:lang="es">los valores especificados son sólo valores de muestra.</gloss>
          <gloss version="2007-01-21" xml:lang="it">i valori specificati sono solo valori campione</gloss>
          <gloss version="2006-10-28" xml:lang="ja">(当該リスト中の値以外も認める．)</gloss>
        </valItem>
      </valList>
    </attDef>
  </attList>
  <exemplum>
    <egXML xmlns="http://www.tei-c.org/ns/Examples">
      <valList type="closed">
        <valItem ident="req">
          <gloss>required</gloss>
        </valItem>
        <valItem ident="mwa">
          <gloss>mandatory when applicable</gloss>
        </valItem>
        <valItem ident="rec">
          <gloss>recommended</gloss>
        </valItem>
        <valItem ident="rwa">
          <gloss>recommended when applicable</gloss>
        </valItem>
        <valItem ident="opt">
          <gloss>optional</gloss>
        </valItem>
      </valList>
    </egXML>
  </exemplum>
  <listRef>
    <ptr target="#TDATT"/>
  </listRef>
</elementSpec>
