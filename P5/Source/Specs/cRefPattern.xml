<?xml version="1.0" encoding="utf-8"?>
<!--
Copyright TEI Consortium. 
Licensed under the GNU General Public License. 
See the file COPYING.txt for details
$Date$
$Id$
-->
<elementSpec xmlns="http://www.tei-c.org/ns/1.0" module="header" usage="opt" ident="cRefPattern">
  <equiv/>
  <gloss>canonical reference pattern</gloss>
  <gloss version="2007-06-12" xml:lang="fr">précise comment convertir une référence canonique en
      une URI</gloss>
  <gloss version="2006-10-18" xml:lang="de">legt fest, wie eine Standardreferenz in eine URI umgewandelt werden kann.</gloss>
  <gloss version="2007-05-04" xml:lang="es">define cómo convertir una referncia canónica en un URI</gloss>
  <gloss version="2007-05-02" xml:lang="zh-tw">定義如何將權威參照轉換成URI。</gloss>
  <gloss version="2007-01-21" xml:lang="it">definisce in che modo convertire un riferimento canonico in un URI</gloss>
  <gloss version="2006-10-28" xml:lang="ja">参照表現をURIに変換する規則</gloss>
  <desc>specifies an expression and replacement pattern for
  transforming a canonical reference into a URI. </desc>
  <desc version="2007-06-12" xml:lang="fr">précise une expression et un modèle de remplacement
      pour convertir une référence canonique en une URI</desc>
  <desc version="2006-10-18" xml:lang="de">legt einen Ausdruck und
  ein Ersetzungsmuster für die Umwandlung einer Standardreferenz in
  eine URI fest. </desc>
  <desc version="2007-05-04" xml:lang="es">indica una expresión y un patrón de remplazamiento para transformar una referencia canónica en un URI.</desc>
  <desc version="2007-05-02" xml:lang="zh-tw">標明將權威參照轉換成URI的表示方法與取代模式。</desc>
  <desc version="2007-01-21" xml:lang="it">specifica un espressione o un pattern di sostituzione per convertire convertire un riferimento canonico in un URI</desc>
  <desc version="2006-10-28" xml:lang="ja"> 参照先を示す表現をURIへと置換するパ
タンを示す．</desc>
  <content>
    <rng:zeroOrMore xmlns:rng="http://relaxng.org/ns/structure/1.0">
      <rng:ref name="model.pLike"/>
    </rng:zeroOrMore>
  </content>
  <attList>
    <attDef ident="matchPattern" usage="req">
      <equiv/>
      <desc>specifies a regular expression against which the values of
      <att>cRef</att> attributes can be matched.</desc>
      <desc version="2007-06-12" xml:lang="fr">indique une expression régulière avec laquelle
          les valeurs de l' attribut <att>cRef</att>peuvent correspondre
          <!--A VALIDER :RP "être comparées pour vérification" ou "doivent correspondre"-->.</desc>
      <desc version="2006-10-18" xml:lang="de">legt einen regulären
  Ausdruck fest, gegen den die Werte eines <att>cRef</att>-Attributs
  abgeglichen werden können. </desc>
      <desc version="2007-05-04" xml:lang="es">especifica una expresión regular con la que los valores de los atributos  <att>cRef</att> pueden ser combinados.</desc>
      <desc version="2007-05-02" xml:lang="zh-tw">標明一個表示屬性<att>cRef</att>的屬性值的固定方法。</desc>
      <desc version="2007-01-21" xml:lang="it">specifica un'esressione regolare alla qaule posso corrispondere i valori degli attributi <att>cRef</att>.</desc>
      <desc version="2006-10-28" xml:lang="ja">置換対象となる参照表現を，正規表現で示す．</desc>
      <datatype>
        <rng:ref xmlns:rng="http://relaxng.org/ns/structure/1.0" name="data.pattern"/>
      </datatype>
      <valDesc>must be a regular expression according to the <ref target="http://www.w3.org/TR/xmlschema-2/#regexs">W3C XML Schema
      Language</ref></valDesc>
      <remarks>
        <p>Parenthesised groups are used not only for establishing
        order of precedence and atoms for quantification, but also for
        creating subpatterns to be referenced by the <att>replacementPattern</att>
        attribute.</p>
      </remarks>
    </attDef>
    <attDef ident="replacementPattern" usage="req">
      <equiv/>
      <desc>specifies a <soCalled>replacement pattern</soCalled>
      which, once subpattern substitution has been performed, provides
      a URI.</desc>
      <desc version="2007-06-12" xml:lang="fr">précise un<soCalled> modèle de remplacement
          </soCalled>qui, une fois que la substitution du sous-modèle a été exécutée, donne un URI. </desc>
      <desc version="2006-10-18" xml:lang="de">beschreibt ein
  <soCalled>replacement pattern (Ersetzungsmuster)</soCalled>, das
  eine URI erstellt, sobald der Austausch der untergeordneten
  Ersetzungsmuster durchgeführt wurde.  </desc>
      <desc version="2007-05-04" xml:lang="es">especifica un <soCalled>replacement pattern (patrón de remplazamiento)</soCalled>, el cual, una vez se ha ejecutado el subpatrón de sustitución, proporciona un URI.</desc>
      <desc version="2007-05-02" xml:lang="zh-tw">標明一個<soCalled>取代模式</soCalled>，一但實行替代模式進行代換，會自動提供URI 。</desc>
      <desc version="2007-01-21" xml:lang="it">specifica un <soCalled>replacement pattern</soCalled> che, una volta applicato un sub-pattern di sostituzione, fornisce un URI.</desc>
      <desc version="2006-10-28" xml:lang="ja">マッチした参照表現を置換するURIを示す．</desc>
      <datatype>
        <rng:text xmlns:rng="http://relaxng.org/ns/structure/1.0"/>
      </datatype>
      <valDesc>Should be the skeleton of a relative or absolute URI,
      with references to groups in the <att>matchPattern</att>.</valDesc>
      <remarks>
        <p>The strings <q>$1</q> through <q>$9</q> are references to
	the corresponding group in the regular expression specified
	by <att>matchPattern</att> (counting open parenthesis, left to right).
	Processors are expected to replace them with whatever matched
	the corresponding group in the regular expression.</p>
        <p>If a digit preceded by a dollar sign is needed in the
	actual replacement pattern (as opposed to being used as a back
	reference), the dollar sign must be written as
	<code>%24</code>.</p>
      </remarks>
    </attDef>
  </attList>
  <exemplum>
    <egXML xmlns="http://www.tei-c.org/ns/Examples">
      <cRefPattern matchPattern="([1-9A-Za-z]+)\s+([0-9]+):([0-9]+)" replacementPattern="#xpath(//div[@type='book'][@n='$1']/div[@type='chap'][@n='$2']/div[@type='verse'][@n='$3'])"/>
    </egXML>
  </exemplum>
  <remarks>
    <p>The result of the substitution may be either an absolute or a
    relative URI reference. In the latter case it is combined with the
    value of <att>xml:base</att> in force at the place where the
    <att>cRef</att> attribute occurs to form an absolute URI in the
    usual manner as prescribed by <ref target="http://www.w3.org/TR/xmlbase/">XML Base</ref>.</p>
  </remarks>
  <listRef>
    <ptr target="#HD54M"/>
    <ptr target="#HD54"/>
    <ptr target="#HD54S"/>
  </listRef>
</elementSpec>
