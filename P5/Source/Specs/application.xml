<?xml version="1.0" encoding="utf-8"?>
<!--Copyright TEI Consortium. 
Licensed under the GNU General Public License. 
See the file COPYING for details
$Date$
$Author$
-->
<elementSpec xmlns="http://www.tei-c.org/ns/1.0" 
	     xmlns:rng="http://relaxng.org/ns/structure/1.0" 
	     ident="application" 
	     module="header">
  <desc>provides information about an application which has acted
  upon the document.</desc>
  <classes>
    <memberOf key="att.typed"/>
    <memberOf key="att.datable"/>
    <memberOf key="model.applicationLike"/>
  </classes>
  <content xmlns:rng="http://relaxng.org/ns/structure/1.0" >
    <rng:group>
      <rng:oneOrMore>
	<rng:ref name="model.labelLike"/>
      </rng:oneOrMore>
      <rng:choice>
	<rng:zeroOrMore>
	  <rng:ref name="model.ptrLike"/>
	</rng:zeroOrMore>
	<rng:zeroOrMore>
	  <rng:ref name="model.pLike"/>
	</rng:zeroOrMore>
      </rng:choice>
    </rng:group>
  </content>
  <attList>
    <attDef ident="ident" usage="req">
      <desc>Supplies an identifier for the application, independent of
      its version number or display name.</desc>
      <datatype>
	<rng:ref xmlns:rng="http://relaxng.org/ns/structure/1.0" name="data.name"/>
      </datatype>
    </attDef>
    
    <attDef ident="version" usage="req">
      <desc>Supplies a version number for the application, independent of
      its identifier or display name.</desc>
      <datatype xmlns:rng="http://relaxng.org/ns/structure/1.0">
	<rng:data type="token">
	  <rng:param 
	      name="pattern">[\d]+[a-z]*[\d]*(\.[\d]+[a-z]*[\d]*){0,3}</rng:param>  
	</rng:data>
	<!--
	    This matches the following types of version numbers:
	    
	    1
	    12
	    1.1
	    1b
	    1.2b6
	    1.3.4.5
	    1.2.3b.5
	    1.2.3b.5b
	    1.3alpha.5 
	-->
      </datatype>
    </attDef>
  </attList>
  <exemplum>
    <egXML xmlns="http://www.tei-c.org/ns/Examples">
      <appInfo>
	<application  version="1.5"
		      ident="ImageMarkupTool1"
		      notAfter="2006-06-01">
	  <label>Image Markup Tool</label>
	  <ptr target="#imtAnnotationCategories"/>
	  <ptr target="#imtAnnotatedImage"/>
	</application>
      </appInfo>
    </egXML>
    <p>This example shows an appInfo tag describing an
    application called the Image Markup Tool, 
    which has declared an interest in two sections of the file,
    and which last saved the file on June 6 2006.</p>
  </exemplum>
  
</elementSpec>
