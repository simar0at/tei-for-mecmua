<?xml version="1.0" encoding="utf-8"?>
<!--
Copyright TEI Consortium. 
Licensed under the GNU General Public License. 
See the file COPYING.txt for details
$Date$
$Id$
-->
<elementSpec xmlns="http://www.tei-c.org/ns/1.0" xmlns:rng="http://relaxng.org/ns/structure/1.0" module="tagdocs" xml:id="MODULEREF" ident="moduleRef">
  <gloss>module reference</gloss>
  <gloss version="2007-06-12" xml:lang="fr">référence de module</gloss>
  <gloss version="2007-11-06" xml:lang="it">riferimento al modulo</gloss>
  <desc>references a module which is to be incorporated into a schema.</desc>
  <desc version="2008-04-05" xml:lang="ja">
  スキーマに組み入れられるモジュールを参照する．
  </desc>
  <desc version="2007-06-12" xml:lang="fr">référence un module qui doit être incorporé dans
			un schéma</desc>
  <desc version="2007-05-04" xml:lang="es">indica un módulo que se ha de incluir al interno de un esquema.</desc>
  <desc version="2007-01-21" xml:lang="it">indica un modulo da includere all'interno di uno schema</desc>
  <classes>
    <memberOf key="model.oddRef"/>
  </classes>
  <content>
    <rng:optional>
      <rng:ref name="content"/>
    </rng:optional>
    <s:pattern xmlns:s="http://www.ascc.net/xml/schematron" name="testschemapattern">
      <s:rule context="tei:moduleRef">
        <s:report test="* and @key">
	  child elements of moduleRef are only allowed when an external module
	  is being loaded
	</s:report>
      </s:rule>
    </s:pattern>
  </content>
  <attList>
    <attList org="choice">
      <attDef ident="key" usage="opt">
        <desc>the name of a TEI module</desc>
        <desc version="2008-03-30" xml:lang="fr">le nom d'un module TEI.</desc>
        <desc version="2007-11-06" xml:lang="it">nome di un modulo TEI</desc>
        <datatype>
          <rng:data type="NCName"/>
        </datatype>
      </attDef>
      <attDef ident="url" usage="opt">
        <gloss>uniform resource locator</gloss>
        <gloss version="2008-03-30" xml:lang="fr">URL</gloss>
        <gloss version="2007-11-06" xml:lang="it">URL</gloss>
        <desc>refers to a non-TEI module of RELAX NG code by external location </desc>
        <desc version="2008-03-30" xml:lang="fr">fait référence à un module non TEI de code
RELAX NG par une localisation externe.</desc>
        <desc version="2007-11-06" xml:lang="it">indica la collocazione esterna di un modulo non TEI che utilizza il codice RELAX NG</desc>
        <datatype>
          <rng:ref name="data.pointer"/>
        </datatype>
      </attDef>
    </attList>
  </attList>
  <exemplum>
    <egXML xmlns="http://www.tei-c.org/ns/Examples">
      <moduleRef key="linking"/>
    </egXML>
    <p>This embeds the linking module.</p>
  </exemplum>
  <remarks>
    <p>Modules are identified by the name supplied as value for the
    <att>ident</att> attribute on the <gi>moduleSpec</gi> element in
    which they are declared. A URI may also be supplied in the case of
    a non-TEI module, and this is expected to be written as a RELAX NG
    schema.
    </p>
    <p>The effect of this element is to make all the declarations
    contained by the referenced module available to the schema being
    compiled.</p>
  </remarks>
</elementSpec>
