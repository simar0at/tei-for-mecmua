<!--Copyright TEI Consortium. 
Licensed under the GNU General Public License. 
See the file COPYING for details
$Date$
$Author$
-->
<elementSpec xmlns="http://www.tei-c.org/ns/1.0" xmlns:rng="http://relaxng.org/ns/structure/1.0" module="linking" xml:id="JOIN" usage="opt" ident="join">
  <equiv/>
  <gloss/>
  <desc>identifies a possibly fragmented segment of text, by pointing
at the possibly discontiguous elements which compose it.</desc>
  <desc version="2007-05-04" xml:lang="es">identifica un segmento o fragmento de texto señalando eventuales elementos no contiguos que lo componen.</desc>
  <desc version="2007-01-21" xml:lang="it">identifica un segmento o frammento di testo puntando ad eventuali elementi non contigui che lo compongono</desc>
  <desc version="2006-10-28" xml:lang="ja">ばらばらではあるがひとつのまとまりを作るテキスト部分を示す．</desc>
  <classes>
    <memberOf key="att.pointing"/>
    <memberOf key="model.global.meta"/>
  </classes>
  <content>
    <rng:ref name="macro.glossSeq"/>
  </content>
  <attList>
    <attDef ident="targets" usage="req">
      <equiv/>
      <desc>specifies the identifiers of the elements or passages
       to be joined into a virtual
       element.</desc>
      <desc version="2007-05-04" xml:lang="es">especifica los identificadores de los elementos o fragmentos de texto a enlazar en un elemento virtual.</desc>
      <desc version="2007-01-21" xml:lang="it">specifica gli identificatori degli elementi o porzioni di testo da collegare in un elemento virtuale</desc>
      <desc version="2006-10-28" xml:lang="ja">まとめられる各要素の識別子を示す．</desc>
      <datatype minOccurs="2" maxOccurs="unbounded">
        <rng:ref name="data.pointer"/>
      </datatype>
      <valDesc>two or more pointers (URIs), separated by white space</valDesc>
    </attDef>
    <attDef ident="result" usage="opt">
      <equiv/>
      <desc>specifies the name of an element
which this aggregation
may be understood to represent.</desc>
      <desc version="2007-05-04" xml:lang="es">indica el nombre del elemento representado por el conjunto de identificadores en cuestión.</desc>
      <desc version="2007-01-21" xml:lang="it">indica il nome dell'elemento rappresentato dall'insieme di identificatori in questione</desc>
      <desc version="2006-10-28" xml:lang="ja">まとめられた要素に与えられる名前を示す．</desc>
      <datatype>
        <rng:ref name="data.name"/>
      </datatype>
      <valDesc>The generic identifier of an element in the current DTD.</valDesc>
    </attDef>
    <attDef ident="scope" usage="rec">
      <equiv/>
      <desc>indicates whether the targets to be joined include the
entire element indicated (the entire subtree including its root),
or just the children of the target (the branches of the subtree).</desc>
      <desc version="2007-05-04" xml:lang="es">especifica si las metas a enlazar incluyen el elemento entero indicado (el árbol entero con la raíz inclusive) o sólo los elementos que tienen como padre la misma meta (las ramas del árbol).</desc>
      <desc version="2007-01-21" xml:lang="it">specifica se le destinazioni da collegare includono l'intero elemento indicato (l'intero albero compresa la radice) oppure solo gli elementi che hanno come genitore la stessa destinazione (i rami dell'albero)</desc>
      <desc version="2006-10-28" xml:lang="ja">参照された要素自体を含むか，またはその子要素のみが対象となるかを
示す．</desc>
      <defaultVal>root</defaultVal>
      <valList type="closed">
        <valItem ident="root">
          <equiv/>
          <desc>the rooted subtrees indicated by the targets
attribute are joined, each subtree become a child of the virtual
element created by the join</desc>
          <desc version="2007-05-04" xml:lang="es">los árboles dotados de raíz e indicados por el atributo de las metas son enlazados, y cada árbol pasa a ser un descendiente del elemento virtual obtenido por el enlace.</desc>
          <desc version="2007-01-21" xml:lang="it">gli alberi dotati di radice e indicati dall'attributo delle destinazioni sono collegati e ogni albero diventa un discendente dell'elemento virtuale ottenuto dal collegamento</desc>
          <desc version="2006-10-28" xml:lang="ja">(参照された要素自体を含む．)</desc>
        </valItem>
        <valItem ident="branches">
          <equiv/>
          <desc>the children of the subtrees indicated by the
targets attribute become the children of the virtual element
(i.e. the roots of the subtrees are discarded)</desc>
          <desc version="2007-05-04" xml:lang="es">los descendientes de los árboles indicados por el atributo de las metas pasan a ser los descendientes del elemento virtual (es decir, se descartan las raíces de algunos árboles).</desc>
          <desc version="2007-01-21" xml:lang="it">i discendenti degli alberi indicati dall'attributo delle destinazioni diventano i discendenti dell'elemento virtuale (cioè vengono rimosse le radici dei vari alberi)</desc>
          <desc version="2006-10-28" xml:lang="ja">(参照された要素の子要素を含む．)</desc>
        </valItem>
      </valList>
      <remarks>
        <p>In this example, the text contains a list of authors of
articles in a journal; the <gi>join</gi> element is used to
join into one virtual list the names of the authors who reside in
Heidelberg.</p>
      </remarks>
    </attDef>
  </attList>
  <exemplum>
    <p>The following example is discussed in section <ptr target="#SAAG"/>:</p>
    <egXML xmlns="http://www.tei-c.org/ns/Examples">
      <sp>
        <speaker>Hughie</speaker>
        <p>How does it go?
  <q><l xml:id="frog_x1">da-da-da</l><l xml:id="frog_l2">gets a new frog</l><l>...</l></q>
  </p>
      </sp>
      <sp>
        <speaker>Louie</speaker>
        <p>
          <q>
            <l xml:id="frog_l1">When the old pond</l>
            <l>...</l>
          </q>
        </p>
      </sp>
      <sp>
        <speaker>Dewey</speaker>
        <p>
          <q>... 
    <l xml:id="frog_l3">It's a new pond.</l>
    </q>
        </p>
        <join targets="#frog_l1 #frog_l2 #frog_l3" result="lg" scope="root"/>
      </sp>
    </egXML>
<!-- a famous haiku by Bashoo, in an eccentric translation -->
    <p>The <gi>join</gi> element here identifies a linegroup (<gi>lg</gi>)
comprising the three lines indicated by the <att>targets</att>
attribute.  The value <code>root</code> for the
<att>scope</att> attribute  indicates that the
resulting virtual element contains the three <gi>l</gi> elements
linked to at #frog_l1 #frog_l2 #frog_l3, rather than their character
data content.</p>
  </exemplum>
  <exemplum>
    <p>In this example, the attribute <att>scope</att> is
specified with the value of <code>branches</code> to indicate that
the virtual list being constructed is to be made by taking the lists
indicated by the <att>targets</att> attribute of the <gi>join</gi>
element, discarding the <gi>list</gi> tags which enclose them, and
combining the items contained within the lists into a single virtual
list:</p>
    <egXML xmlns="http://www.tei-c.org/ns/Examples">
      <p>Southern dialect (my own variety, at least) has only
  <list xml:id="LP1"><item><s>I done gone</s></item><item><s>I done went</s></item></list> whereas Negro Non-Standard basilect has both these and
  <list xml:id="LP2"><item><s>I done go</s></item></list>.</p>
      <p>White Southern dialect also has
  <list xml:id="LP3"><item><s>I've done gone</s></item><item><s>I've done went</s></item></list> which, when they occur in Negro dialect, should probably 
   be considered as borrowings from other varieties of
   English.</p>
      <join result="list" xml:id="LST1" targets="#LP1 #LP2 #LP3" scope="branches">
        <desc>Sample sentences in Southern speech</desc>
      </join>
    </egXML>
  </exemplum>
  <listRef>
    <ptr target="#SAAG" type="div2"/>
  </listRef>
</elementSpec>
